var t,e;t=this,e=function(t){
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},e(t,n)};function n(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var r=function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};function o(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function i(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function l(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},u(t,e)};function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var h,p=function(){return p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},p.apply(this,arguments)};function f(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function v(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function y(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function m(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function b(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function w(t,e){var n=C[t]||"Unknown error";return void 0!==e&&(n+=": "+e),Error(n)}var _,C=((h={})[0]="[ActivationContext] Invalid path",h[1]="[ViewActivity] Render context not found (not a child component?)",h[2]="[ViewActivity] Application instance not found",h[3]="[ViewActivity] Dialog builder not found",h[4]="Invalid ViewComponent child component",h[5]="[ViewComponent] Render context not found (not a child component?)",h[6]="[Binding] Unknown binding filter",h[7]="[Binding] Binding not found for",h[8]="[Binding] Bound parent binding not found for",h[9]="[Binding] Component not bound",h[10]="[Format] Cannot convert object value to string",h[11]="[Format] Invalid format type",h[12]="[Component] Not an event handler method",h[13]="[Component] Invalid event handler preset",h[14]="[List] Symbol not supported",h[15]="[List] Existing objects are not of given type",h[16]="[List] Cannot add objects to a destroyed list",h[17]="[List] Cannot insert object that is already in this list",h[18]="[List] Object not found",h[19]="[List] Index out of bounds",h[20]="[Map] Existing objects are not of given type",h[21]="[Map] Cannot add objects to a destroyed map",h[22]="[Object] Cannot add event handler to base class",h[23]="[Object] Argument is not a managed event",h[24]="[Object] Event recursion limit reached",h[25]="[Object] Cannot deactivate managed object",h[26]="[Object] Managed object is already destroyed",h[27]="[Object] State transition cancelled",h[28]="[Object] Invalid object reference",h[29]="[Object] Referenced object has been destroyed",h[30]="[Object] Can only create managed properties on managed object instances",h[31]="[Object] Cannot turn properties with getters and/or setters into managed references",h[32]="[Object] Property is not writable",h[33]="[Record] Property is not serializable",h[34]="[Object] Existing reference is not of given type",h[35]="[Service] Missing property name",h[36]="[Service] Service name cannot be blank",h[37]="[Object] Cannot observe events on parent reference",h[38]="[Object] Shadow observable can only be added to properties with getters",h[39]="[Object] Rate limit can only be applied to async handlers",h[40]="[Object] Recursion in observer constructor detected",h[41]="[Object] Synchronous observers are not allowed for property",h[42]="[Object] Property is already managed in a base class",h[43]="[Style] Invalid style set instance",h[44]="[Menu] Builder not found",h[45]="[Modal] modal property cannot be bound",h),x=function(){function t(t){void 0===t&&(t=""),this.name=t}return t.prototype.freeze=function(){return Object.freeze&&Object.freeze(this),this},t}();t.ManagedCoreEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._coreEventMarker=!0,e}return d(e,t),e.isCoreEvent=function(t){return!!t._coreEventMarker},e}(x),(_=t.ManagedCoreEvent||(t.ManagedCoreEvent={})).ACTIVE=new _("Active").freeze(),_.INACTIVE=new _("Inactive").freeze(),_.DESTROYED=new _("Destroyed").freeze();var S=function(t){function e(e,n){var r=t.call(this,"ManagedParentChange")||this;return r.parent=e,r.propertyName=n,r}return d(e,t),e}(t.ManagedCoreEvent),E=function(t){function e(e){return void 0===e&&(e="Change"),t.call(this,e)||this}return d(e,t),e}(x),O=(new E).freeze(),I=function(t){function e(e,n){void 0===e&&(e="ManagedListChange");var r=t.call(this,e)||this;return r.source=n,r}return d(e,t),e}(E),R=function(t){function e(e,n,r){var o=t.call(this,"ManagedObjectAdded",e)||this;return o.object=n,o.key=r,o}return d(e,t),e}(I),k=function(t){function e(e,n,r){var o=t.call(this,"ManagedObjectRemoved",e)||this;return o.object=n,o.key=r,o}return d(e,t),e}(I);function A(t,e,n,r,o){var i,a=e,s=!1,c=o,l=function(r,a,c){for(var u=i=Object.getOwnPropertyDescriptor(t,r),d=t;;){if(!u||a){if(!(d=Object.getPrototypeOf(d)))return;u=d&&Object.getOwnPropertyDescriptor(d,r)}if(u){var h=u.get;if(h){if(!n&&h["-async"])throw w(41);if(h["-shadow"])return e=h["-shadow"],s=!0,l(e,a,!0);c||o||u.set&&u.set["^-ch"]||(o=h)}return u}}};if(l(e),i&&i.set&&i.set["^-ch"]){var u=i.set["^-ch"];return o&&Object.defineProperty(t,e,p(p({},i),{get:o})),void(i.set["^-ch"]=function(){var t=u();return{getter:o||t.getter,setter:t.setter,makeHandler:function(e,n,o){return r(e,n,t&&t.makeHandler(e,n,o))}}})}var d=function(t){var n,r,c=d["^-ch"](),l=c.makeHandler(this,e),u=function(t){c.setter&&c.setter.call(this,t),l(n=t,void 0,l)},h=c.getter;h||(h=s?function(){if(r)return n;r=!0;try{return this[a]}finally{r=!1}}:o||function(){return n}),Object.defineProperty(this,e,{configurable:!0,enumerable:!i||i.enumerable,get:h,set:u}),void 0!==t&&u.call(this,t)};d["^-ch"]=function(){var t=l(a,!0),n=t&&t.set&&t.set["^-ch"]&&t.set["^-ch"]();if(n&&n.getter&&c)throw w(42,e);return{getter:o||n&&n.getter,setter:n?n.setter:t&&t.set,makeHandler:function(t,e,o){return r(t,e,n&&n.makeHandler(t,e,o))}}};var h=o||function(){return i&&i.value};Object.defineProperty(t,e,{configurable:!0,enumerable:!i||i.enumerable,get:h,set:d})}function M(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i,a=r[0]&&"function"==typeof r[0]&&!(r[0].prototype instanceof x)&&r[0]!==x,s=a?r[0]:void 0,c=s?function(e,n){var r=this;if(i!==e&&this["^$"]){var o=s.call(this,e,n);o&&(Array.isArray(o)?o.forEach((function(e){t.ManagedCoreEvent.isCoreEvent(e)||r.emit(i=e)})):t.ManagedCoreEvent.isCoreEvent(o)||this.emit(i=o),i=void 0)}}:function(e){i!==e&&this["^$"]&&(r.length&&!r.some((function(t){return e===t||"function"==typeof t&&e instanceof t}))||t.ManagedCoreEvent.isCoreEvent(e)||(this.emit(i=e),i=void 0))};Object.defineProperty(e,"^-ec",{configurable:!0,enumerable:!1,value:c}),n||Object.defineProperty(e,"^-en",{configurable:!0,enumerable:!1,value:c})}var T=function(){};function P(t){T=t}var U=Object.freeze({__proto__:null,defineChainableProperty:A,propagateEvents:M,get exceptionHandler(){return T},setExceptionHandler:P}),B=1e3,D="^o:uid",j=Promise.resolve();function F(t,e){var n=!0;t._addInitializer((function(){var r="function"==typeof e?e():t[e];r&&(n&&function(t,e){var n,r,o=function(n,r,o){!function(t,e,n,r,o){if(o){var i,a,s,c=r["^o:rate"];e.addEventHandler((function(e){return v(this,void 0,void 0,(function(){var o,l,u,d;return y(this,(function(h){switch(h.label){case 0:if(n&&!n(e))return[3,12];h.label=1;case 1:return h.trys.push([1,11,,12]),c>=0?(a=e,i?[2]:(i=!0,o=Date.now(),(l=s+c-o)>0?[4,new Promise((function(t){setTimeout(t,l)}))]:[3,3])):[3,6];case 2:return h.sent(),[3,5];case 3:return[4,j];case 4:h.sent(),h.label=5;case 5:return s=Date.now(),i=!1,e=a,[3,8];case 6:return[4,j];case 7:h.sent(),h.label=8;case 8:return a=void 0,u=z(this,t),e?[4,r.call(u,e)]:[3,10];case 9:h.sent(),h.label=10;case 10:return[3,12];case 11:return d=h.sent(),T(d),[3,12];case 12:return[2]}}))}))}))}else e.addEventHandler((function(e){if(!n||n(e)){var o=z(this,t);try{r.call(o,e)}catch(t){T(t)}}}))}(e,t,n,r,o)},i=function(t,e){var n=function(e){t.call(this,e.parent,e,"managedParent")};n["^o:rate"]=t["^o:rate"],o((function(t){return t instanceof S}),n,e)},a=t.prototype,s=function(t){var n,r;if(!Object.prototype.hasOwnProperty.call(e.prototype,t))return"continue";var s=e.prototype[t];if("function"==typeof s)if(Array.isArray(s["^o:prop"])){var c="Async"===t.slice(-5);try{for(var l=(n=void 0,m(s["^o:prop"])),u=l.next();!u.done;u=l.next()){var d=u.value;if(".referenceCount"===d)V(e,a,"^-in",s,!1,c,0);else if(".managedParent"===d)i(s,c);else{if("!managedParent"===d)throw w(37);var h="!"===d[0];V(e,a,d.slice(1),s,h,c)}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}else if("o"===t[0]&&"n"===t[1])switch(t){case"onChangeAsync":o((function(t){return"Change"===t.name||t instanceof E}),s,!0);break;case"onChange":o((function(t){return"Change"===t.name||t instanceof E}),s);break;case"onEventAsync":o(void 0,s,!0);break;case"onEvent":o(void 0,s);break;case"onManagedParentChangeAsync":i(s,!0);break;case"onManagedParentChange":i(s);break;case"onReferenceCountChangeAsync":V(e,a,"^-in",s,!1,!0,0);break;case"onReferenceCountChange":V(e,a,"^-in",s,!1,!1,0);break;default:"Change"===t.slice(-6)?(t=("_"!==t[2]?t[2].toLowerCase():"")+t.slice(3,-6),V(e,a,t,s)):"ChangeAsync"===t.slice(-11)?(t=("_"!==t[2]?t[2].toLowerCase():"")+t.slice(3,-11),V(e,a,t,s,!1,!0)):"Async"===t.slice(-5)?(t=t.slice(2,-5),o((function(e){return e.name===t}),s,!0)):(t=t.slice(2),o((function(e){return e.name===t}),s,!1))}};try{for(var c=m(Object.getOwnPropertyNames(e.prototype)),l=c.next();!l.done;l=c.next())s(l.value)}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}(t,r),n=!1,z(this,r))}))}function L(t,e){return function(n,r){var o=Object.getOwnPropertyDescriptor(n,r);if(!o||!o.get)throw w(38);o.get["-shadow"]=t,o.get["-async"]=!!e}}function N(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n){var r,o,i=e[n];if("function"!=typeof i)throw TypeError();i["^o:prop"]||(i["^o:prop"]=[]);var a=i["^o:prop"],s=function(t){a.some((function(e){return e==="."+t}))||a.push("."+t)};try{for(var c=m(t),l=c.next();!l.done;l=c.next())s(l.value)}catch(t){r={error:t}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}}}function V(t,e,n,r,o,i,a){var s=this;if(i){var c=r["^o:rate"];A(e,n,!0,(function(e,i,l){var u,d,h,p=a,f=i!==n,m=0,g=z(e,t);return function(t,i,a){return v(s,void 0,void 0,(function(){var s,v,b,w,_;return y(this,(function(y){switch(y.label){case 0:if(l&&l(t,i,a),f&&(t=e[n]),s=i?i instanceof E:p!==t,o?!(i&&t instanceof Y):!s)return[2];y.label=1;case 1:return y.trys.push([1,10,,11]),p=t,c>=0?(d=i,u?[2]:(v=++m,u=!0,b=Date.now(),(w=h+c-b)>0?[4,new Promise((function(t){setTimeout(t,w)}))]:[3,3])):[3,6];case 2:return y.sent(),[3,5];case 3:return[4,j];case 4:y.sent(),y.label=5;case 5:return m!==v?[2]:(h=Date.now(),u=!1,i=d,[3,8]);case 6:return u?[2]:(u=i&&i.name||!0,[4,j]);case 7:y.sent(),u=!1,y.label=8;case 8:return d=void 0,[4,r.call(g,p,i,n)];case 9:return y.sent(),[3,11];case 10:return _=y.sent(),T(_),[3,11];case 11:return[2]}}))}))}}))}else A(e,n,!1,(function(e,i,s){var c=a,l=i!==n,u=z(e,t);return function(t,i,a){if(s&&s(t,i,a),l&&(t=e[n]),o?i&&t instanceof Y:i?i instanceof E:c!==t){c=t;try{r.call(u,t,i,n)}catch(t){T(t)}}}}))}function z(e,n){var r=n["^o:uid"]||(n["^o:uid"]=B++),o=e[D+r];if(o){if(!0===o)throw w(40)}else Object.defineProperty(e,D+r,{enumerable:!1,configurable:!1,writable:!0,value:!0}),o=e[D+r]=new n(e),e["^$"]===t.ManagedState.ACTIVE&&o.onActive&&o.onActive();return o}var H,W=Object.prototype.hasOwnProperty;t.ManagedState=void 0,(H=t.ManagedState||(t.ManagedState={}))[H.DESTROYED=0]="DESTROYED",H[H.CREATED=1]="CREATED",H[H.ACTIVATING=2]="ACTIVATING",H[H.ACTIVE=3]="ACTIVE",H[H.DEACTIVATING=4]="DEACTIVATING",H[H.INACTIVE=5]="INACTIVE",H[H.DESTROYING=6]="DESTROYING";for(var K=[],q=0;q<250;q++)K[q]={u:0,a:void 0,b:void 0,p:"",j:void 0,k:void 0,f:void 0,g:void 0};var $=16,G=16,Y=function(){function e(){this.managedId=$++,this["^$"]=t.ManagedState.CREATED,Object.defineProperty(this,"^$",p(p({},Object.getOwnPropertyDescriptor(this,"^$")),{writable:!0,enumerable:!1})),this["^-in"]=0,Object.defineProperty(this,"^-in",p(p({},Object.getOwnPropertyDescriptor(this,"^-in")),{enumerable:!1})),Object.defineProperty(this,"^-out",{value:[],writable:!1,configurable:!1,enumerable:!1}),this["^-new"]()}return e.addObserver=function(t){return F(this,(function(){return t})),this},e.addEventHandler=function(t){if(this===e)throw w(22);var n,r;return W.call(this.prototype,"^-ev")?r=this.prototype["^-ev"]:(n=Object.getPrototypeOf(this.prototype),Object.defineProperty(this.prototype,"^-ev",{enumerable:!1,configurable:!1,writable:!0})),this.prototype["^-ev"]=function(e){n&&n["^-ev"]?n["^-ev"].call(this,e):r&&r.call(this,e);try{t.call(this,e)}catch(t){T(t)}},this},e.prototype["^-new"]=function(){},e._addInitializer=function(t){var e=W.call(this.prototype,"^-new")&&this.prototype["^-new"];if(e)this.prototype["^-new"]=function(){e.call(this),t.call(this)};else{var n=Object.getPrototypeOf(this.prototype);this.prototype["^-new"]=function(){var e=n["^-new"];e&&e.call(this),t.call(this)}}},Object.defineProperty(e.prototype,"managedState",{get:function(){return this["^$"]},enumerable:!1,configurable:!0}),e.prototype.getReferenceCount=function(){return this["^-in"]},e.prototype.getManagedReferrers=function(){var t=Object.create(null),e=[];return this["^-out"].forEach((function(n){var r=n.a;r.managedState&&!t[r.managedId]&&e.push(r)})),e},e.prototype.getManagedParent=function(t){var e=this["^-out"].parent,n=e&&e.a;if(t&&n&&!(n instanceof t)){var r=n["^-out"].parent;if((n=r&&r.a)&&!(n instanceof t)){n=(r=n["^-out"].parent)&&r.a;for(var o=void 0;n&&!(n instanceof t)&&((o||(o=Object.create(null)))[n.managedId]=!0,!(n=(r=n["^-out"].parent)&&r.a)||!o[n.managedId]););}}return n&&n!==this?n:void 0},e.prototype.emit=function(e){for(var n,r=this,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(!this["^$"]&&e!==t.ManagedCoreEvent.DESTROYED)throw w(26);if("string"==typeof e&&(e=new x(e).freeze()),"function"==typeof e&&(e=(new(e.bind.apply(e,b([void 0],g(o),!1)))).freeze()),!(e instanceof x))throw w(23);if(void 0===this._emitting)Object.defineProperty(this,"_emitting",{enumerable:!1,writable:!0,value:0});else if(this._emitting>4)throw w(24,e.name);try{this._emitting=this._emitting+1,this["^-ev"]&&this["^-ev"](e),this["^-out"].forEach((function(t){t&&t.a&&t.f&&t.f.call(void 0,e,t.a,r)}))}catch(t){n=t}return this._emitting--,n&&T(n),this},e.prototype.emitChange=function(t){void 0===t?this.emit(O):this.emit(E,t)},e.prototype.propagateChildEvents=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return M.apply(U,b([this,!0],g(t),!1)),this},e.prototype.activateManagedAsync=function(){return v(this,void 0,void 0,(function(){var e=this;return y(this,(function(n){return[2,this._transitionManagedState(t.ManagedState.ACTIVE,(function(){return v(e,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return this["^$"]=t.ManagedState.ACTIVATING,[4,this.onManagedStateActivatingAsync()];case 1:return e.sent(),[2]}}))}))}),t.ManagedCoreEvent.ACTIVE,this.onManagedStateActiveAsync)]}))}))},e.prototype.deactivateManagedAsync=function(){return v(this,void 0,void 0,(function(){var e=this;return y(this,(function(n){switch(n.label){case 0:return[4,this._transitionManagedState(t.ManagedState.INACTIVE,(function(){return v(e,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return this["^$"]=t.ManagedState.DEACTIVATING,[4,this.onManagedStateDeactivatingAsync()];case 1:return e.sent(),[2]}}))}))}),t.ManagedCoreEvent.INACTIVE,this.onManagedStateInactiveAsync)];case 1:return n.sent(),[2]}}))}))},e.prototype.destroyManagedAsync=function(){return v(this,void 0,void 0,(function(){var n,r,o=this;return y(this,(function(i){switch(i.label){case 0:n=3,i.label=1;case 1:if((r=this["^$"])!==t.ManagedState.ACTIVE&&r!==t.ManagedState.ACTIVATING&&r!==t.ManagedState.DEACTIVATING)return[3,3];if(n--<=0)throw w(25);return[4,this.deactivateManagedAsync()];case 2:return i.sent(),[3,1];case 3:return r?[4,this._transitionManagedState(t.ManagedState.DESTROYED,(function(){return v(o,void 0,void 0,(function(){var n,r,o,i=this;return y(this,(function(a){switch(a.label){case 0:return this["^$"]=t.ManagedState.DESTROYING,[4,this.onManagedStateDestroyingAsync()];case 1:for(o in a.sent(),delete(n=this["^-out"]).parent,delete n.head,delete n.tail,r=[],n)n[o]&&(n[o].g&&r.push(n[o].g),e._discardRefLink(n[o]));return this["^$"]=t.ManagedState.DESTROYED,r.forEach((function(t){try{t(i)}catch(t){}})),[2]}}))}))}),t.ManagedCoreEvent.DESTROYED)]:[2];case 4:return i.sent(),[2]}}))}))},e.prototype.onManagedStateActivatingAsync=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){return[2]}))}))},e.prototype.onManagedStateActiveAsync=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){return[2]}))}))},e.prototype.onManagedStateDeactivatingAsync=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){return[2]}))}))},e.prototype.onManagedStateInactiveAsync=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){return[2]}))}))},e.prototype.onManagedStateDestroyingAsync=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){return[2]}))}))},e.prototype._transitionManagedState=function(t,e,n,r){var o=this;W.call(this,"_transition")||Object.defineProperty(this,"_transition",{configurable:!1,writable:!0,enumerable:!1});var i=function(i){var a,s,c={state:t,p:new Promise((function(l,u){a=u;var d=function(){var i;s||l((i=c,v(o,void 0,void 0,(function(){var o,a;return y(this,(function(s){switch(s.label){case 0:if(o=this["^$"],t===o)return[2];if(!o)throw w(26);this._transition=i,s.label=1;case 1:return s.trys.push([1,,3,4]),[4,e.call(this)];case 2:return s.sent(),this["^$"]=t,a=!0,this.emit(n),r&&r.call(this),[3,4];case 3:return a||(this["^$"]=o),this._transition=i.pending||void 0,[7];case 4:return[2]}}))}))))};i.then(d,d)})),reject:function(){s=!0,a(w(27))}};return c};if(this._transition){if(this._transition.pending){if(this._transition.pending.state===t)return this._transition.pending.p;this._transition.pending.reject(),this._transition.pending=void 0}return this._transition.state===t?this._transition.p:(this._transition.pending=i(this._transition.p)).p}return(this._transition=i(Promise.resolve())).p},e._createRefLink=function(t,e,n,r,o){var i,a=e["^-out"];return K.length?((i=K.pop()).a=t,i.b=e,i.p=n,i.f=r,i.g=o,i.u=a.length,i.j=i.k=void 0):i={u:a.length,a:t,b:e,p:n,f:r,g:o,j:void 0,k:void 0},a.push(i),e["^-in"]++,t["^-out"][n]=i,i},e._discardRefLink=function(t){if(!(t&&t.u>=0&&t.a&&t.b))return!1;var e=t.a&&t.a["^-out"];e&&e[t.p]===t&&("@"===t.p[0]?(e.head===t&&(e.head=t.k),e.tail===t&&(e.tail=t.j),t.j&&t.j.k===t&&(t.j.k=t.k),t.k&&t.k.j===t&&(t.k.j=t.j),delete e[t.p]):e[t.p]=void 0);var n=t.b&&t.b["^-out"];if(n&&n[t.u]===t){if(t.b["^-in"]--,t.u>=0&&t.u===n.length-1){for(var r=n.length-2;r>=0&&void 0===n[r];)r--;n.length=r+1}else delete n[t.u];n.parent===t&&t.b!==t.a&&(n.parent=void 0,t.b.destroyManagedAsync().catch(T))}return K.length<1e3&&(t.a=t.b=t.f=t.g=t.j=t.k=void 0,K.push(t)),!0},e._makeManagedChildRefLink=function(t,e){var n=t.b,r=n["^-out"];if(r[t.u]===t){var o=r.parent;if(!o||o.a!==t.a){if(r.parent=t,o){this._discardRefLink(o);try{o.g&&o.g(this)}catch(t){}}else n._makeRefManagedParent();n["^$"]&&n.emit(S,t.a,e)}}},e._isManagedChildRefLink=function(t){return t.b["^-out"].parent===t},e._validateReferenceAssignment=function(t,n,r,o){if(void 0===r&&(r=e),void 0!==n){if(!t["^$"])throw w(29);if(!(n instanceof r))throw w(28,o);if(!n["^$"])throw w(29)}},e.createManagedReferenceProperty=function(t,n,r,o,i){if(!(t instanceof e))throw w(30);var a=Object.getOwnPropertyDescriptor(t,n);if(a&&(!a.set||!a.set["^-ch"]))throw w(31);var s="P"+G++;return A(t,n,!1,(function(t,a,c){return function(l,u,d){if(u){if(o){if(l!==o)return;l=o.get()}c&&c(l,u,d)}else{if(o&&l!==o)throw w(32);e._validateReferenceAssignment(t,l,i,n);var h=t["^-out"][s];if(!h||!l||h.b!==l||o){if(e._discardRefLink(h),l){var p=e._createRefLink(t,l,s,(function(t,e,o){d(o,t,d),r&&e["^-ec"]&&e["^-ec"](t,n)}),(function(){t[a]=void 0}));r&&e._makeManagedChildRefLink(p,n)}o&&(l=o.get()),c&&c(l,u,d)}}}}),(function(){var t=this["^-out"][s];return o?(t||(e._createRefLink(this,o,s),this[n]=o),o.get()):t&&t.b}))},e.prototype._makeRefManagedParent=function(){},e}(),X=function(t){function e(){return t.call(this)||this}return d(e,t),e.prototype.propagateEvents=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return M.apply(U,b([this,!1],g(t),!1)),this},e.prototype.restrict=function(t){if(this.objects().some((function(e){return!(e instanceof t)})))throw w(20);return this._managedClassRestriction=t,this},e.prototype.get=function(t){if(this["^$"]){var e=this["^-out"]["%"+String(t)];return e&&e.b}},e.prototype.has=function(t){return!!this["^$"]&&!!this["^-out"]["%"+String(t)]},e.prototype.unset=function(t){var e=this["^-out"]["%"+String(t)],n=e&&e.b;return e&&Y._discardRefLink(e)&&this.managedState&&this.emit(k,this,n,t),this},e.prototype.set=function(t,e){var n=this;if(!this["^$"])throw w(21);var r=this["^-out"];if(t=String(t),Y._validateReferenceAssignment(this,e,this._managedClassRestriction,t),!e)return this.unset(t);var o="%"+t,i=r[o];if(i){if(e&&i.b===e)return this;Y._discardRefLink(i)}var a=Y._createRefLink(this,e,o,(function(t){n["^-en"]?n["^-en"](t,""):n["^-ec"]&&Y._isManagedChildRefLink(a)&&n["^-ec"](t,"")}),(function(e){n.managedState&&n.emit(k,n,e,t)}));return r.parent&&!this._isWeakRef&&Y._makeManagedChildRefLink(a),this.emit(R,this,e,t),this},e.prototype.remove=function(t){var e,n,r=this["^-out"];for(var o in r)r[o]&&r[o].b===t&&Y._discardRefLink(r[o])&&(n=o.slice(1),e=!0);return e&&this.managedState&&this.emit(k,this,t,n),this},e.prototype.clear=function(){var t,e=this["^-out"];for(var n in e)if("%"===n[0]){var r=e[n];Y._discardRefLink(r)&&(t=!0)}return t&&this.emitChange(),this},e.prototype.objects=function(){var t=[];if(!this["^$"])return t;var e=Object.create(null),n=this["^-out"];for(var r in n)if("%"===r[0]){var o=n[r]&&n[r].b;o&&!e[o.managedId]&&(e[o.managedId]=!0,t.push(o))}return t},e.prototype.keys=function(){var t=[],e=this["^-out"];if(!e)return t;for(var n in e)"%"===n[0]&&e[n]&&t.push(n.slice(1));return t},e.prototype.forEach=function(t){var e=this["^-out"];if(e)for(var n in e)if("%"===n[0]&&e[n]){var r=n.slice(1),o=e[n]&&e[n].b;o&&t(r,o)}},e.prototype.includes=function(t){var e=this;return t instanceof Y&&t["^-out"].some((function(t){return t.a===e&&"%"===t.p[0]}))},e.prototype.toObject=function(){var t=Object.create(null);if(!this["^$"])return t;var e=this["^-out"];for(var n in e)"%"===n[0]&&e[n]&&(t[n.slice(1)]=e[n].b);return t},e.prototype.toJSON=function(){return this.toObject()},e.prototype.weakRef=function(){return this._isWeakRef=!0,this},e.prototype._makeRefManagedParent=function(){if(!this._isWeakRef){var t=this["^-out"];for(var e in t)t[e]&&t[e].a===this&&Y._makeManagedChildRefLink(t[e])}},e}(Y),J="P*ref",Q=function(t){function e(e){var n=t.call(this)||this;return e&&n.set(e),n}return d(e,t),e.prototype.propagateEvents=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return M.apply(U,b([this,!1],g(t),!1)),this},e.prototype.restrict=function(t){var e=this.get();if(e&&!(e instanceof t))throw w(34);return this._managedClassRestriction=t,this},e.prototype.get=function(){var t=this["^-out"]["P*ref"];return t&&t.b},e.prototype.clear=function(){return this.set()},e.prototype.set=function(t){var e=this;Y._validateReferenceAssignment(this,t,this._managedClassRestriction);var n=this["^-out"]["P*ref"];if(n){if(t&&n.b===t)return;Y._discardRefLink(n)}if(t){var r=Y._createRefLink(this,t,J,(function(t){var n=e["^-en"]||e["^-ec"];n&&n.call(e,t,"")}),(function(){e.managedState&&e.emit(E)}));this["^-out"].parent&&!this._isWeakRef&&Y._makeManagedChildRefLink(r)}return this.emitChange(),this},e.prototype.weakRef=function(){return this._isWeakRef=!0,this},e.prototype._makeRefManagedParent=function(){if(!this._isWeakRef){var t=this["^-out"];t["P*ref"]&&Y._makeManagedChildRefLink(t["P*ref"])}},e.prototype.toJSON=function(){var t=this.get();return{$ref:t?t.managedId:void 0}},e}(Y);function Z(t,e){Y.createManagedReferenceProperty(t,e)}function tt(t,e){Y.createManagedReferenceProperty(t,e,!0)}var et=function(t){function e(){var e=t.call(this)||this;return e.services=new X,e}return d(e,t),e.instance=new e,f([tt],e.prototype,"services",void 0),e}(Y);function nt(t){return function(e,n){var r=String(t).toUpperCase(),o=et.instance.services.get(r);o||(o=(new Q).restrict(rt).propagateEvents(),et.instance.services.set(r,o)),Y.createManagedReferenceProperty(e,n,!1,o)}}var rt=function(t){function e(e){var n=t.call(this)||this;return e&&(n.name=e),n}return d(e,t),e.find=function(t){var e=String(t).toUpperCase(),n=et.instance.services.get(e);return n&&n.get()},e.link=function(t,e,n){if(!n)throw w(35);nt(t)(e.prototype,n)},e.prototype.register=function(){var t=String(this.name||"").toUpperCase();if(!t)throw w(36);var n=et.instance.services.get(t);return n?n.set(this):(n=new Q(this).restrict(e).propagateEvents(),et.instance.services.set(t,n)),this},e}(Y),ot=function(t){function e(e){var n=t.call(this,"ERROR")||this;return n.error=e,n}return d(e,t),e}(x),it=function(t){function e(){var n=t.call(this)||this;if(e.instance)throw Error();return n}return d(e,t),e.emitError=function(t){console.error?console.error(t):console.log&&console.log(t),e.instance.emit(ot,t)},e.instance=new e,e}(Y);function at(t){it.emitError(t)}function st(t,e){"{"===t[0]&&(t=t.slice(1,-1));var n=t.match(/^([-0+ ]+)?(\d+)?(\.\d+)?([%ndiufFeEgGxXsc])$/);if(!n){var r=t.split(":"),o=dt[r.shift()];return o?o.apply(void 0,b([e],g(r),!1)):(at(w(11,t)),"???")}var i=g(n,5),a=i[1],s=i[2],c=i[3],l=i[4],u=void 0,d=void 0,h=void 0;a&&(a.indexOf("-")>=0?u=!0:a.indexOf("0")>=0&&(h="0"),a.indexOf("+")>=0?d="+":a.indexOf(" ")>=0&&(d=" "));var p=+s||0,f=c?+c.slice(1)||0:void 0,v=void 0;switch(l){case"%":return"%";case"d":case"i":case"u":return ct(String(Math.round(Math.abs(+e))||0),e<0,p,u,d,h);case"n":case"N":var y=Math.abs(+e).toFixed(null!=f?f:6);return y.length&&(y=y.replace(/\.?0+$/,"")),ct(y,e<0,p,u,d,h);case"f":case"F":return ct(Math.abs(+e).toFixed(null!=f?f:6),e<0,p,u,d,h);case"e":case"E":return v=ct(Math.abs(+e).toExponential(null!=f?f:6),e<0,p,u,d,h),"E"===l?v.toUpperCase():v;case"g":case"G":var m=Math.abs(+e).toExponential(null!=f?f:6).replace(/\.?0+e/,"e"),_=+m.split("e")[1]||0;return _>=-4&&_<=(null!=f?f:6)&&(m=Math.abs(+e).toFixed(null!=f?f:6)).length&&(m=m.replace(/\.?0+$/,"")),v=ct(m,e<0,p,u,d,h),"G"===l?v.toUpperCase():v;case"x":case"X":return v=ct(Math.abs(+e||0).toString(16),e<0,p,u,d,h),"X"===l?v.toUpperCase():v;case"c":e=null==e?"":String.fromCharCode(+e);case"s":return v=String(null!=e?e:""),p>0&&(v=u?lt(v,p):ut(v,p," ")),f>0&&(v=v.slice(0,f)),v}}function ct(t,e,n,r,o,i){var a=e?"-":o||"";if(r)return lt(a+t,n);if(i&&/^[\da-f]/.test(t)||(i=" "),a)return a+ut(t,n-1,i);var s=ft.get();return s&&"."!==s.decimalSeparator&&(t=t.replace(".",s.decimalSeparator)),ut(t,n,i||" ")}function lt(t,e){if(t.length>=e)return t;for(var n=t.length;n<e;n++)t+=" ";return t}function ut(t,e,n){if(t.length>=e)return t;for(var r=t.length;r<e;r++)t=n+t;return t}P(it.emitError);var dt={_:function(){},"!":function(t){return!t},"not?":function(t){return!t},"?":function(t){return!!t},"!!":function(t){return!!t},n:function(t){return+t},num:function(t){return+t},then:function(t,e,n){return t&&e||n},else:function(t,e){return t||e},or:function(t,e){return t||e},uc:function(t){return null==t?t:String(t).toUpperCase()},lc:function(t){return null==t?t:String(t).toLowerCase()},uniq:function(t){if(!Array.isArray(t)){if(!t||!t.toArray)return t;if(t=t.toArray(),!Array.isArray(t))return t}var e=[],n=Object.create(null);return t.filter((function(t){return null!=t&&("string"==typeof t?!n[t]&&(n[t]=!0):!(e.indexOf(t)>=0||(e.push(t),0)))}))},pluck:function(t,e){if(!Array.isArray(t)){if(!t||!t.toArray)return t;if(t=t.toArray(),!Array.isArray(t))return t}return t.map((function(t){return t&&t[e]}))},local:function(){var t=ft.get();return t?t.format.apply(t,arguments):"???"}},ht=new Q,pt=0,ft=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="Core.I18n",e.decimalSeparator=".",e}return d(e,t),e.get=function(){return ht.get()},e.prototype.register=function(){return t.prototype.register.call(this),ht.set(this),pt++,this},e.prototype.loadTexts=function(t){var e,n;this._loadedTexts||(this._loadedTexts={});try{for(var r=m(t),o=r.next();!o.done;o=r.next()){var i=o.value;i[1]&&(this._loadedTexts[i[0]]=i[1])}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}pt++},e.prototype.getText=function(t){var e;return(null===(e=this._loadedTexts)||void 0===e?void 0:e[t])?this._loadedTexts[t]:t},e.prototype.getPlural=function(t,e){return e[1==t?0:1]||""},e}(rt),vt=function(){function t(t,e){this.format=t,e&&this.update(e)}return t.prototype.toString=function(){return""},t.prototype.update=function(t){var e,n=this,r=this.format,o=pt;return this.toString=function(){if(pt!==o&&(e=void 0,n.text=void 0),void 0!==e)return e;var i;if(void 0===n.text&&(n.text=((i=ht.get())?i.getText(String(r)):String(r)).replace(/\*\*\*\{.*\}\*\*\*/g,"")),!t.length)return e=n.text;var a=n.text.replace(/\#(?:(\d+)\$)?\{([^}]*)\}/g,(i=i||ht.get())?function(e,n,r){return i.getPlural(+t[n?n-1:0]||0,r.split("/"))}:function(e,n,r){return r.split("/")[1==t[n?n-1:0]?0:1]});return e=function(t,e){var n=0;return t.replace(/\%(?:(\d+)\$)?(\{[^\}]*\}|[-+*.0-9 ]*[%a-zA-Z])/g,(function(t,r,o){var i;if("%"===o)return"%";if("s"===o)return String(null!==(i=r?e[r-1]:e[n++])&&void 0!==i?i:"");var a=st(o=o.replace(/\*/g,(function(){return String(e[n++])})),r?e[r-1]:e[n++]);if("object"==typeof a){if(a.toString===Object.prototype.toString)return at(w(10)),"???";if(a.toString===Array.prototype.toString&&a.map===Array.prototype.map)return a.map((function(t){return null!=t&&String(t)||""})).join(", ")}return String(null!=a?a:"")}))}(a,t)},this},t}();function yt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t instanceof vt?e.length?new vt(t.format,e):t:new vt(t,e)}var mt=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this)||this}return d(e,t),e.group=function(t){var e={};for(var n in t)e[n]=this.type(n,t[n]);return e},e.type=function(t,n){var r,o=yt(n);return r=function(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.call(this)||this;return i.code=t,i.message=o.update([n]).toString(),i}return d(n,e),n}(e),r.code=t,r},e}(Error);if("function"!=typeof Symbol){if("object"!=typeof window)throw w(14);window.Symbol={iterator:"Symbol.iterator_shim_"+Math.random()}}var gt=function(t){function e(){for(var e,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=t.call(this)||this;i["^count"]=0,i["^count"]=0,Object.defineProperty(i,"_managedCount",p(p({},Object.getOwnPropertyDescriptor(i,"_managedCount")),{enumerable:!1}));try{for(var a=m(r),s=a.next();!s.done;s=a.next()){var c=s.value;i.insert(c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i}return d(e,t),e.prototype.propagateEvents=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return M.apply(U,b([this,!1],g(t),!1)),this},e.prototype.restrict=function(t){if(this.toArray().some((function(e){return!(e instanceof t)})))throw w(15);return this._managedClassRestriction=t,this},Object.defineProperty(e.prototype,"count",{get:function(){return this["^-out"].head?this["^count"]:0},enumerable:!1,configurable:!0}),e.prototype.add=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{for(var o=m(n),i=o.next();!i.done;i=o.next()){var a=i.value;this.insert(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return this},e.prototype.insert=function(t,e){var n=this;if(!this["^$"])throw w(16);var r=this["^-out"];if(Y._validateReferenceAssignment(this,t,this._managedClassRestriction),void 0===t)throw ReferenceError();if(this.includes(t))throw w(17);var o=e&&r["@"+e.managedId];if(e&&(!o||o.b!==e))throw w(18);var i="@"+t.managedId,a=Y._createRefLink(this,t,i,(function(t){n["^-en"]?n["^-en"](t,""):n["^-ec"]&&Y._isManagedChildRefLink(a)&&n["^-ec"](t,"")}),(function(t){n["^count"]--,n.managedState&&n.emit(k,n,t)}));return o?(r.head===o&&(r.head=a),(a.j=o.j)&&(a.j.k=a),a.k=o,o.j=a):r.tail?(r.tail.k=a,a.j=r.tail,a.k=void 0,r.tail=a):r.head=r.tail=a,this["^count"]++,r.parent&&!this._isWeakRef&&Y._makeManagedChildRefLink(a),this.emit(R,this,t),this},e.prototype.remove=function(t){if(!(t instanceof Y))throw TypeError();var e=t instanceof Y&&this["^-out"]["@"+t.managedId];return e&&e.b===t&&Y._discardRefLink(e)&&(this["^count"]--,this.managedState&&this.emit(k,this,t)),this},e.prototype.splice=function(t,e){for(var n,r,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];if(void 0!==t&&!(t instanceof Y))throw TypeError();var a,s=[];for("number"==typeof e&&(a=e);t&&t!==e&&!(a--<1);){var c=t instanceof Y&&this["^-out"]["@"+t.managedId],l=c&&c.k&&c.k.b;c&&c.b===t&&(s.push(t),Y._discardRefLink(c)&&(this["^count"]--,this.emit(k,this,t))),t=l}try{for(var u=m(o),d=u.next();!d.done;d=u.next()){var h=d.value;this.insert(h,t)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return s},e.prototype.replace=function(t){var e,n,r,o,i,a,s,c,l,u=this,d=this["^-out"],h=[],p=function(t,e){return h.unshift((function(){return u.insert(t,e)}))},f=[],v=function(t){return f.push((function(){return u.remove(t)}))},y=[],g=function(t,e){return y.unshift((function(){var n=d["@"+t.managedId];if(n){var r=e&&d["@"+e.managedId];n!==r&&n.k!==r&&(l=!0,d.head===n&&(d.head=n.k),d.tail===n&&(d.tail=n.j),n.j&&(n.j.k=n.k),n.k&&(n.k.j=n.j),n.k=r,r?(n.j=r.j,r.j&&(r.j.k=n),r.j=n):(n.j=d.tail,n.j&&(n.j.k=n)),n.j||(d.head=n),n.k||(d.tail=n))}}))},b=Object.create(null),w=[];try{for(var _=m(t),C=_.next();!C.done;C=_.next()){var x=C.value;if(void 0!==x)if(x instanceof Y&&(b[x.managedId]=!0),this.includes(x))for(w.unshift(g.bind(this,x));w.length>1;)w.pop()(x);else w.push(p.bind(this,x))}}catch(t){e={error:t}}finally{try{C&&!C.done&&(n=_.return)&&n.call(_)}finally{if(e)throw e.error}}for(;w.length;)w.pop()(void 0);for(var S=this["^-out"].head;S;)b[S.b.managedId]||v(S.b),S=S.k;try{for(var E=m(f),O=E.next();!O.done;O=E.next())(0,O.value)()}catch(t){r={error:t}}finally{try{O&&!O.done&&(o=E.return)&&o.call(E)}finally{if(r)throw r.error}}try{for(var R=m(y),k=R.next();!k.done;k=R.next())(0,k.value)()}catch(t){i={error:t}}finally{try{k&&!k.done&&(a=R.return)&&a.call(R)}finally{if(i)throw i.error}}l&&this.emit(I,void 0,this);try{for(var A=m(h),M=A.next();!M.done;M=A.next())(0,M.value)()}catch(t){s={error:t}}finally{try{M&&!M.done&&(c=A.return)&&c.call(A)}finally{if(s)throw s.error}}return this},e.prototype.clear=function(){var t,e,n=this.toArray();try{for(var r=m(n),o=r.next();!o.done;o=r.next()){var i=o.value;this.remove(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return this},e.prototype.includes=function(t){var e=t&&t.managedId,n=e&&this["^-out"]["@"+e];return!!n&&n.b===t},e.prototype.first=function(){var t=this["^-out"].head;return t&&t.b},e.prototype.last=function(){var t=this["^-out"].tail;return t&&t.b},e.prototype.get=function(t){if(this["^$"]&&t>=0){for(var e=this["^-out"].head,n=t;e&&n>0;n--)e=e.k;if(e&&e.b)return e.b}throw w(19,t)},e.prototype.find=function(t){var e=this["^-out"]["@"+t];if(!e||e.b.managedId!==t)throw w(18);return e.b},e.prototype.take=function(t,e){return this._take(t,e)},e.prototype.takeLast=function(t,e){return this._take(t,e,!0)},e.prototype._take=function(t,e,n){var r,o=[];if(!this["^$"])return o;for(r=e&&this.includes(e)?this["^-out"]["@"+e.managedId]:this["^-out"][n?"tail":"head"];r&&t-- >0;)o[n?"unshift":"push"](r.b),r=n?r.j:r.k;return o},e.prototype.indexOf=function(t){if(!this["^$"])return-1;for(var e=this["^-out"].head,n=0;e;n++,e=e.k)if(e.b===t)return n;return-1},e.prototype.toArray=function(){if(!this["^$"])return[];for(var t=new Array(this.count),e=0,n=this["^-out"].head;n;)t[e++]=n.b,n=n.k;return t},e.prototype.toJSON=function(){return this.toArray()},e.prototype.some=function(t){var e,n;try{for(var r=m(this),o=r.next();!o.done;o=r.next())if(t(o.value))return!0}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!1},e.prototype.every=function(t){var e,n;try{for(var r=m(this),o=r.next();!o.done;o=r.next())if(!t(o.value))return!1}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!0},e.prototype.forEach=function(t){var e,n;try{for(var r=m(this),o=r.next();!o.done;o=r.next())t(o.value)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},e.prototype.map=function(t){var e,n,r=[];try{for(var o=m(this),i=o.next();!i.done;i=o.next()){var a=i.value;r.push(t(a))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},e.prototype.pluck=function(t){if(!this["^$"])return[];for(var e=new Array(this.count),n=0,r=this["^-out"].head;r;)e[n++]=r.b[t],r=r.k;return e},e.prototype[Symbol.iterator]=function(){var t=this["^-out"],e=this["^-out"].head,n=e?e.b:0;return{next:function(){var r=n;return r&&t[e.p]===e?(e=e.k,n=e?e.b:0,{value:r,done:!1}):{done:!0}}}},e.prototype.weakRef=function(){return this._isWeakRef=!0,this},e.prototype._makeRefManagedParent=function(){var t,e;if(!this._isWeakRef){var n=this["^-out"];if(n.head){for(var r=[],o=n.head;o;o=o.k)r.push(o);try{for(var i=m(r),a=i.next();!a.done;a=i.next())n[(o=a.value).p]===o&&Y._makeManagedChildRefLink(o)}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}}}},f([L("^count")],e.prototype,"count",null),e}(Y),bt=16;t.Binding=function(){function t(t,e){var n,r,o;this.id="^^bind:"+bt++;var i=void 0!==t?String(t):void 0;if(i&&(this._source=t),void 0!==i){var a=String(i).split("|");for(o=a.shift().split("."),i=o.shift();"!"===i[0];)i=i.slice(1),this.addFilter("!");o.length||(o=void 0);try{for(var s=m(a),c=s.next();!c.done;c=s.next()){var l=c.value;this.addFilter(l)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}this.propertyName=i;var u=this;this.Reader=function(){function t(t){this.boundParent=t}return t.prototype.getValue=function(t){var n=arguments.length>0?t:void 0!==i?this.boundParent[i]:void 0;if(o)for(var r=0;r<o.length&&null!=n;r++){var a=o[r];n="object"!=typeof n||a in n||"function"!=typeof n.get?n[a]:n.get(a)}return u._filter&&(n=u._filter(n,this.boundParent)),void 0===n&&void 0!==e?e:n},t}()}return t.isBinding=function(e){return!!(e&&e.isComponentBinding&&e instanceof t)},t.prototype.isComponentBinding=function(){return!0},Object.defineProperty(t.prototype,"bindings",{get:function(){return this._bindings},enumerable:!1,configurable:!0}),t.prototype.addFilter=function(t){t=String(t).trim();var e=this._filter;return this._filter=function(n,r){return e&&(n=e(n,r)),st(t,n)},this},t.prototype.then=function(t){var e=this._filter;return this._filter=function(n,r){return e&&(n=e(n,r)),n?t:n},this},t.prototype.else=function(t){var e=this._filter;return this._filter=function(n,r){return e&&(n=e(n,r)),n||t},this},t.prototype.match=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._filter;return this._filter=function(e,r){return n&&(e=n(e,r)),t.some((function(t){return t===e}))},this},t.prototype.nonMatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._filter;return this._filter=function(e,r){return n&&(e=n(e,r)),!t.some((function(t){return t===e}))},this},t.prototype.and=function(e,n){var r=this,o=e instanceof t?e:new t(e,n);o.parent=this,this._source&&(this._source+=" and "+String(e)),this._bindings||(this._bindings=[]),this._bindings.push(o);var i=this._filter;return this._filter=function(t,e){i&&(t=i(t,e));var n=e.getBoundBinding(o);if(!n)throw w(7,r.toString());return t&&n.value},this},t.prototype.or=function(e,n){var r=this,o=e instanceof t?e:new t(e,n);o.parent=this,this._source&&(this._source+=" or "+String(e)),this._bindings||(this._bindings=[]),this._bindings.push(o);var i=this._filter;return this._filter=function(t,e){i&&(t=i(t,e));var n=e.getBoundBinding(o);if(!n)throw w(7,r.toString());return t||n.value},this},t.prototype.debuggerLog=function(){var t=this,e=this._filter;return this._filter=function(n,r){return e&&(n=e(n,r)),console.log("--- ",t.toString(),n),n},this},t.prototype.toString=function(){return"bind("+(this._source||"")+")"},t}();var wt,_t,Ct=function(e){function n(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=e.call(this,void 0)||this;i._format=n,r.length||(n=String(n).replace(/\$\{[^}]+\}/g,(function(t){return r.push(t.slice(2,-1)),"%s"})));var a=i._bindings=r.map((function(e){var n=e instanceof t.Binding?e:new t.Binding(e);return n.parent=i,n}));return i.Reader=function(t){function e(e){var r=t.call(this,e)||this;return r.i18nString=new vt(n),r}return d(e,t),e.prototype.getValue=function(){var e=this,n=a.map((function(t,n){var o=e.boundParent.getBoundBinding(t);if(!o)throw w(7,r[n]);return o.value})),o=this.i18nString.update(n).toString();return t.prototype.getValue.call(this,o)},e}(i.Reader),i}return d(n,e),n.prototype.toString=function(){return"bindf("+JSON.stringify(this._format)+")"},n}(t.Binding);function xt(e,n){return new t.Binding(e,n)}wt=t.Binding||(t.Binding={}),_t=function(t){function e(e,n){var r=t.call(this)||this;if(r.binding=e,e.parent){var o=n.getBoundBinding(e.parent);if(!o)throw w(8);r.parent=o}return r.propertyName=e.propertyName,r._reader=new e.Reader(n),r}return d(e,t),e.prototype.hasValue=function(){return!!this._updatedValue},Object.defineProperty(e.prototype,"value",{get:function(){return this._updatedValue?this._lastValue:this._reader.getValue()},enumerable:!1,configurable:!0}),e.prototype.updateComponents=function(t){var e;if(this.count||this.parent){var n=(e=this._reader).getValue.apply(e,b([],g(arguments),!1));if(!this._updatedValue||this._lastValue!==n){this._updatedValue=!0;var r=this._lastValue;if(this._lastValue=n,this.parent)return void this.parent.updateComponents();var o=this.binding.id;this.forEach((function(t){try{if("function"!=typeof t[o])throw w(9);t[o](n,r)}catch(t){at(t)}}))}}else this._updatedValue=!1},e}(gt),wt.Bound=_t;var St=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.source=n,o.inner=r,o}return d(e,t),e}(x),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e}(St),Ot=function(t){function e(e){var n=t.call(this,"ChildComponentAdded")||this;return n.source=e.component,n.observer=e,n}return d(e,t),e}(x),It=function(t){function e(e,n){var r=t.call(this,"CompositeParentChange")||this;return r.source=e,r.composite=n,r}return d(e,t),e}(x);function Rt(t){if("()"===t.slice(-2)){var e=t.slice(0,-2);return function(t){for(var n=this.getBoundParentComponent();n;){var r=n&&n[e];if("function"==typeof r)return r.call(n,t);n=n.getBoundParentComponent()}throw w(12,e)}}throw w(13,t)}t.Component=function(e){function n(){return e.call(this)||this}return d(n,e),n.with=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=this,o=function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.apply(this,b([],g(e),!1))||this;return n.call(o),o}return d(e,t),e.prototype.isPresetComponent=function(){return!0},e}(r),i=t[0],a=Object.getPrototypeOf(i);return n="object"!=typeof i||a&&a!==Object.prototype?o.preset.apply(o,b([Object.create(null)],g(t),!1)):o.preset.apply(o,b([],g(t),!1)),o},n.preset=function(e){for(var r,o,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];for(var s in e){var c=e[s];t.Binding.isBinding(c)?(this.presetBinding(s,c),delete e[s]):c&&"o"===s[0]&&"n"===s[1]&&(s[2]<"a"||s[2]>"z")?("string"==typeof c&&(c[0]<"a"||c[0]>"z")?("+"===c[0]&&(c=c.slice(1)),r||(r=Object.create(null)),r[s.slice(2)]=c):(o||(o=Object.create(null)),o[s.slice(2)]="function"==typeof c?c:Rt(String(c))),delete e[s]):"function"==typeof c&&c.prototype instanceof n&&i.push(c)}return i.length&&this.presetBindingsFrom.apply(this,b([],g(i),!1)),r&&this.addEventHandler((function(t){var e=r[t.name];e&&this.emitAction(e,t)})),o&&this.addEventHandler((function(t){var e=o[t.name];e&&e.call(this,t)})),function(){for(var t in e){var n=e[t];void 0!==n&&Tt(this,t,n)}}},n.presetBinding=function(t,e,n){this.prototype.hasOwnProperty("^+bnd")||(this.prototype["^+bnd"]=Object.create(this.prototype["^+bnd"])),this.prototype["^+bnd"][t]=e,n||(n=function(e,n){Tt(this,t,e,n)}),this.prototype[e.id]=n},n.presetBindingsFrom=function(){for(var t,e,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(!this.prototype.hasOwnProperty("^+bndI")){var i=this.prototype["^+bndI"];this.prototype["^+bndI"]=i?i.slice():[]}try{for(var a=m(r),s=a.next();!s.done;s=a.next()){var c=s.value;if(c){if(!(c.prototype&&c.prototype instanceof n))throw TypeError();this.prototype["^+bndI"].push(c)}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}},n.presetBoundComponent=function(t){for(var e,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];this.prototype.hasOwnProperty("^+bndC")||(this.prototype["^+bndC"]=p({},this.prototype["^+bndC"]));var i=new((e=n.BoundComposition).bind.apply(e,b([void 0,this],g(r),!1)));return this.prototype["^+bndC"][t]=i,i},n.prototype.isPresetComponent=function(){return!1},n.prototype.delegateEvent=function(t,e){var n,r=this[(n=t.name,"on"+(n[0]<"a"||n[0]>"z"?n:String.fromCharCode(n.charCodeAt(0)-32)+n.slice(1)))],o="function"==typeof r&&r.call(this,t,e);return!0===o||(o&&o.then&&o.catch&&o.catch((function(t){return T(t)})),t instanceof Et?(this.emit(t),!0):void 0)},n.prototype.getParentComponent=function(t){return this.getManagedParent(t||n)},n.prototype.getBoundParentComponent=function(t){var e=this["^+bndO"];if(!t)return e&&e.boundParent;for(var n=e&&e.boundParent;n&&!(n instanceof t);)n=n.getBoundParentComponent();return n},n.prototype.emitAction=function(t,e,n){var r=new Et(t,this,e);r.context=n,this.emit(r.freeze())},n.prototype.propagateComponentEvent=function(t,e){this.managedState&&this.emit(St,t,this,e)},n.prototype.getBoundBinding=function(t){return this["^+bndO"]&&this["^+bndO"].getCompositeBound(t)},n}(Y),t.Component.prototype["^+bnd"]=Object.create(null),t.Component.prototype["^+bndI"]=[],t.Component.prototype["^+bndC"]=Object.create(null),function(e){var n=function(){function t(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.Composite=t,this._bindings=this._getAllBindings.apply(this,b([],g(n),!1)),F(t,(function(){return e._createObserver()}))}return t.prototype.getBindings=function(){return this._bindings.slice()},t.prototype.limitBindings=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=[];this._unbound||(this._unbound=[]);var i=function(t){n.some((function(e){return t.propertyName===e}))||t.bindings&&t.bindings.some((function(t){return n.some((function(e){return t.propertyName===e}))}))?o.push(t):a._unbound.push(t)},a=this;try{for(var s=m(this._bindings),c=s.next();!c.done;c=s.next()){var l=c.value;i(l)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}this._bindings=o},t.prototype._createObserver=function(){var t=this._bindings.filter((function(t){return void 0!==t.propertyName})).map((function(t){return t.propertyName}));if(t.length)return function(){function e(t){this.c=t}return e.prototype.updatePropertyAsync=function(t,e,n){var r=this.c["^+bndO"];r&&r.updateCompositeBound(n,t)},f([N.apply(void 0,b([],g(t),!1))],e.prototype,"updatePropertyAsync",null),e}()},t.prototype._getAllBindings=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=[],r=function(t){n.push(t),t.bindings&&t.bindings.forEach((function(t){return r(t)}))},o=function(t){var e,n;if(t){var i=t.prototype["^+bnd"];for(var a in i)r(i[a]);var s=t.prototype["^+bndI"];try{for(var c=m(s),l=c.next();!l.done;l=c.next()){var u=l.value;o(u)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}var d=t.prototype["^+bndC"];for(var a in d){var h=d[a]._unbound;if(h)for(var p in h)r(h[p])}}};return t.forEach(o),n},t}();e.BoundComposition=n;var r=function(){function e(t){this.component=t,this._childObservers=Object.create(null),this._nChildren=0,Object.defineProperty(t,"^+bndO",{enumerable:!1,writable:!1,value:this})}return e.prototype.getCompositeBound=function(t){return this._compositeBound&&this._compositeBound.get(t.id)||this.boundParent&&this.boundParent["^+bndO"]&&this.boundParent["^+bndO"].getCompositeBound(t)},e.prototype.onEvent=function(e){if(e===t.ManagedCoreEvent.DESTROYED)this._parentObserver&&(this._parentObserver._removeChildObserver(this),this._unbind(),this.boundParent=void 0);else if(e instanceof S){var n=this.component.getParentComponent(),r=n&&n["^+bndO"];if(r===this._parentObserver)return;if(this._parentObserver&&(this._parentObserver._removeChildObserver(this),this._unbind(),this.boundParent=void 0),this._parentObserver=r,r){if(r._addChildObserver(this),e.parent===n&&e.propertyName&&n["^+bndC"][e.propertyName]){var o=n["^+bndC"][e.propertyName];this.boundParent=n,r._addCompositeBound(o.getBindings())}else this.boundParent=r.boundParent;this._bind()}for(var i in this._childObservers)this._childObservers[i]._updateParent(this,!0)}},e.prototype.updateCompositeBound=function(t,e){if(this._compositeBound)return t?arguments.length<2?this._compositeBound.forEach((function(e,n){n.propertyName===t&&n.updateComponents()})):this._compositeBound.forEach((function(n,r){r.propertyName===t&&r.updateComponents(e)})):this._compositeBound.forEach((function(t,e){e.updateComponents()})),this},e.prototype._addChildObserver=function(t){var e=t.component.managedId;this._childObservers[e]||(this._childObservers[e]=t,this._nChildren=(this._nChildren||0)+1)},e.prototype._removeChildObserver=function(t){var e=t.component.managedId;this._childObservers[e]&&(delete this._childObservers[e],!--this._nChildren&&this._compositeBound&&this._compositeBound.clear())},e.prototype._updateParent=function(t,e){for(var n in e&&t.component===this.boundParent&&(e=!1),e&&(this._unbind(),this.boundParent=t.boundParent),this._bind(),this._childObservers)this._childObservers[n]._updateParent(this,e)},e.prototype._unbind=function(){if(this._ownBound){for(var t in this._ownBound)this._ownBound[t].remove(this.component);this._ownBound=void 0}},e.prototype._bind=function(){var t,e;if(this.boundParent){var n=this.component,r=this.boundParent["^+bndO"],o=n["^+bnd"],i=this._ownBound||(this._ownBound=Object.create(null));for(var a in o)if(!i[a]){var s=o[a];(c=r.getCompositeBound(s))&&!c.includes(n)&&(i[a]=c.add(n))}for(var a in i){var c=i[a];try{null===(e=(t=n)[c.binding.id])||void 0===e||e.call(t,c.value)}catch(t){T(t)}}}},e.prototype._addCompositeBound=function(e){var n,r;this._compositeBound||(this._compositeBound=new X);try{for(var o=m(e),i=o.next();!i.done;i=o.next()){var a=i.value;this._compositeBound.has(a.id)||this._compositeBound.set(a.id,new t.Binding.Bound(a,this.component))}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e}();e.ComponentObserver=r,e.addObserver(r)}(t.Component||(t.Component={}));var kt=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}return d(e,t),e.prototype.valueOf=function(){return this.value},e}(Y);function At(e,n){var r=void 0;function o(e,n){if(!(e.constructor.prototype instanceof t.Component))throw TypeError();Y.createManagedReferenceProperty(e,n,!0,void 0,r||t.Component),e.constructor.presetBoundComponent(n,r)}if(!n)return e&&(r=e),o;o(e,n)}function Mt(t,e){A(t,e,!1,(function(t,n,r){var o;return function(n,i,a){if(r&&r(n,i,a),i){if(o===i||!t["^$"])return;try{t.delegateEvent(o=i,e),o=void 0}catch(t){T(t)}}}}))}function Tt(t,e,n,r){var o=t[e];if(o&&o instanceof gt){if(Array.isArray(n))return void o.replace(n.map((function(t){return t instanceof Y?t:new kt(t)})));if(void 0===n&&r!==o)return void o.clear()}t[e]=n}var Pt,Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.create=function(t){var e=new this;if(t)for(var n in t)e[n]=t[n];return e},e.prototype.serialize=function(){var t=this,n=Object.create(null),r=function(n,o){if(null==o||"string"==typeof o||"number"==typeof o||"boolean"==typeof o)return o;if(Array.isArray(o))return o.map((function(t,e){return r(n+"."+e,t)}));if(!(o instanceof Y))throw w(33,n);if(o instanceof e&&o.getParentRecord()===t)return o.serialize();if(o instanceof Q)return r(n,o.get());if(o instanceof gt)return o.map((function(t){return r(n,t)}));if(o instanceof X){var i=Object.create(null);return o.forEach((function(t,e){i[t]=r(n+"#"+t,e)})),i}};for(var o in this)if(this.hasOwnProperty(o)&&"_"!==o[0]&&"managedId"!==o){var i=r(o,this[o]);void 0!==i&&(n[o]=i)}return n},e.prototype.getParentRecord=function(t){return this.getManagedParent(t||e)},e.prototype.getNextSibling=function(){var t=this.getManagedParent();if(t instanceof gt){var n=t.take(2,this)[1];if(n instanceof e)return n}},e.prototype.getPreviousSibling=function(){var t=this.getManagedParent();if(t instanceof gt){var n=t.takeLast(2,this);if(n.length>1&&n[0]instanceof e)return n[0]}},e.prototype.getReferrerRecords=function(t){var n=Object.create(null),r=[],o=t||e,i=function(t){t["^-out"].forEach((function(t){var e=t.a;e.managedState&&!n[e.managedId]&&(n[e.managedId]=!0,e instanceof o?r.push(e):(e instanceof gt||e instanceof X||e instanceof Q)&&i(e))}))};return i(this),r},e}(t.Component),Bt=1,Dt=Object.create(null),jt={},Ft=function(){function t(t,e,n,r){this._inherit=n&&e?e.map((function(t){return t[n]})).filter((function(t){return!!t})):[],n&&t&&t[n]&&this._inherit.unshift(t[n]),this._style=r}return t.prototype.getStyle=function(){return this._style},t.prototype._value=function(t){for(var e,n=this._inherit.length-1;n>=0&&void 0===(e=this._inherit[n][t]);n--);return e},t}(),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.create=function(t,e,n){var r=new this(t,e,"dimensions",n);return Object.defineProperties(r,{width:{enumerable:!0,get:r._value.bind(r,"width")},height:{enumerable:!0,get:r._value.bind(r,"height")},minWidth:{enumerable:!0,get:r._value.bind(r,"minWidth")},maxWidth:{enumerable:!0,get:r._value.bind(r,"maxWidth")},minHeight:{enumerable:!0,get:r._value.bind(r,"minHeight")},maxHeight:{enumerable:!0,get:r._value.bind(r,"maxHeight")},grow:{enumerable:!0,get:r._value.bind(r,"grow")},shrink:{enumerable:!0,get:r._value.bind(r,"shrink")}}),r},e}(Ft),Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.create=function(t,e,n){var r=new this(t,e,"position",n);return Object.defineProperties(r,{gravity:{enumerable:!0,get:r._value.bind(r,"gravity")},top:{enumerable:!0,get:r._value.bind(r,"top")},bottom:{enumerable:!0,get:r._value.bind(r,"bottom")},left:{enumerable:!0,get:r._value.bind(r,"left")},right:{enumerable:!0,get:r._value.bind(r,"right")},start:{enumerable:!0,get:r._value.bind(r,"start")},end:{enumerable:!0,get:r._value.bind(r,"end")}}),r},e}(Ft),Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.create=function(t,e,n){var r=new this(t,e,"textStyle",n);return Object.defineProperties(r,{direction:{enumerable:!0,get:r._value.bind(r,"direction")},align:{enumerable:!0,get:r._value.bind(r,"align")},color:{enumerable:!0,get:r._value.bind(r,"color")},fontFamily:{enumerable:!0,get:r._value.bind(r,"fontFamily")},fontSize:{enumerable:!0,get:r._value.bind(r,"fontSize")},fontWeight:{enumerable:!0,get:r._value.bind(r,"fontWeight")},letterSpacing:{enumerable:!0,get:r._value.bind(r,"letterSpacing")},lineHeight:{enumerable:!0,get:r._value.bind(r,"lineHeight")},lineBreakMode:{enumerable:!0,get:r._value.bind(r,"lineBreakMode")},bold:{enumerable:!0,get:r._value.bind(r,"bold")},italic:{enumerable:!0,get:r._value.bind(r,"italic")},uppercase:{enumerable:!0,get:r._value.bind(r,"uppercase")},smallCaps:{enumerable:!0,get:r._value.bind(r,"smallCaps")},underline:{enumerable:!0,get:r._value.bind(r,"underline")},strikeThrough:{enumerable:!0,get:r._value.bind(r,"strikeThrough")}}),r},e}(Ft),zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.create=function(t,e,n){var r=new this(t,e,"decoration",n);return Object.defineProperties(r,{background:{enumerable:!0,get:r._value.bind(r,"background")},textColor:{enumerable:!0,get:r._value.bind(r,"textColor")},borderColor:{enumerable:!0,get:r._value.bind(r,"borderColor")},borderStyle:{enumerable:!0,get:r._value.bind(r,"borderStyle")},borderThickness:{enumerable:!0,get:r._value.bind(r,"borderThickness")},borderRadius:{enumerable:!0,get:r._value.bind(r,"borderRadius")},padding:{enumerable:!0,get:r._value.bind(r,"padding")},dropShadow:{enumerable:!0,get:r._value.bind(r,"dropShadow")},opacity:{enumerable:!0,get:r._value.bind(r,"opacity")},css:{enumerable:!0,get:function(){for(var t=Object.create(null),e=0;e<this._inherit.length;e++){var n=this._inherit[e].css;if(n)for(var r in n)t[r]=n[r]}return t}},cssClassNames:{enumerable:!0,get:function(){for(var t,e,n=Object.create(null),r=this._inherit.length-1;r>=0;r--){var o=this._inherit[r].cssClassNames;if(o)if("string"==typeof o)n[o]=!0;else try{for(var i=(t=void 0,m(o)),a=i.next();!a.done;a=i.next())n[a.value]=!0}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}}return Object.keys(n)}}}),r},e}(Ft),Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.create=function(t,e,n){var r=new this(t,e,"containerLayout",n);return Object.defineProperties(r,{axis:{enumerable:!0,get:r._value.bind(r,"axis")},distribution:{enumerable:!0,get:r._value.bind(r,"distribution")},gravity:{enumerable:!0,get:r._value.bind(r,"gravity")},wrapContent:{enumerable:!0,get:r._value.bind(r,"wrapContent")},clip:{enumerable:!0,get:r._value.bind(r,"clip")},separator:{enumerable:!0,get:r._value.bind(r,"separator")}}),r},e}(Ft),Wt=Object.freeze(new Ft),Kt=function(){function t(t,e){void 0===t&&(t="");for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(this.name=t,t?(t=t.replace(/[^\w\d_\-]/g,""),this.id="S_"+(jt[t]?t+"--"+Bt++:jt[t]=t)):this.id="S__"+Bt++,this.ids=e?b(b([],g(e.ids),!1),[this.id],!1):[this.id],this.conditionalStyles=e?p({},e.conditionalStyles):Object.create(null),e||n.length){this.inherited=e&&b(b([],g(e.inherited),!1),[e],!1)||[];var o=e&&e.getStyles();this._styles=Object.freeze({dimensions:Lt.create(void 0,n,this),position:Nt.create(void 0,n,this),textStyle:Vt.create(void 0,n,this),decoration:zt.create(void 0,n,this),containerLayout:Ht.create(void 0,n,this)}),this._combined=Object.freeze({dimensions:Lt.create(o,n,this),position:Nt.create(o,n,this),textStyle:Vt.create(o,n,this),decoration:zt.create(o,n,this),containerLayout:Ht.create(o,n,this)})}else this.inherited=[],this._styles=Object.freeze(Object.create(null)),this._combined=Object.freeze({dimensions:Wt,position:Wt,textStyle:Wt,decoration:Wt,containerLayout:Wt})}return t.create=function(e,n){return void 0===n&&(n=e),"string"!=typeof e&&(e="UIStyle_"+Bt++),new t(e,void 0,n||Object.create(null))},t.group=function(){for(var e,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=Object.create(null);try{for(var a=m(r),s=a.next();!s.done;s=a.next()){var c=s.value;for(var l in c){var u=c[l];i[l]=l in i?i[l].extend(u instanceof t?u.getStyles():u):u instanceof t?u:t.create(l,u)}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i},t.isStyleOverride=function(t,e){return t&&(!(t instanceof Ft)||e&&t.getStyle()!==e)},t.prototype.mixin=function(){for(var e,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=this;try{for(var a=m(r),s=a.next();!s.done;s=a.next()){var c=s.value;if(c){var l=i.id+"+"+c.id;if(Dt[l])i=Dt[l];else{for(var u in i=new t(i.name+"--"+c.name,i,c._combined),c.conditionalStyles)c.conditionalStyles[u]&&(i.conditionalStyles[u]=c.conditionalStyles[u]);Dt[l]=i}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i},t.prototype.extend=function(e,n){return new t(n||this.name,this,e)},t.prototype.addState=function(e,n){return this.conditionalStyles[e]?this.conditionalStyles[e]=this.conditionalStyles[e].extend(n):this.conditionalStyles[e]=t.create(this.name+":"+e,n),this},t.prototype.getStyles=function(){return this._combined},t.prototype.getOwnStyles=function(){return this._styles},t}(),qt=function(){},$t=function(){},Gt=function(){function t(t){t&&(this._f=function(){var e=String(Yt.current&&Yt.current.colors[t]||t);return"@"===e[0]?Yt.replaceColor(e):e})}return t.prototype.toString=function(){return this._f?this._f():"transparent"},t.prototype.text=function(){var e=this,n=new t;return n._f=function(){return Yt.getTextColor(String(e))},n},t.prototype.alpha=function(e){var n=this,r=new t;return r._f=function(){return Yt.mixColors(String(n),"rgba(,,,0)",1-e)},r},t.prototype.lum=function(e,n){var r=this,o=new t;return o._f=function(){var t=String(r);return n&&!Yt.isBrightColor(t)&&(e=-e),Yt.mixColors(t,e>0?"#fff":"#000",Math.abs(e))},o},t.Black=new t("black"),t.DarkerGray=new t("darkerGray"),t.DarkGray=new t("darkGray"),t.Gray=new t("gray"),t.LightGray=new t("lightGray"),t.White=new t("white"),t.Slate=new t("slate"),t.Red=new t("red"),t.Orange=new t("orange"),t.Yellow=new t("yellow"),t.Lime=new t("lime"),t.Green=new t("green"),t.Turquoise=new t("turquoise"),t.Cyan=new t("cyan"),t.Blue=new t("blue"),t.Violet=new t("violet"),t.Purple=new t("purple"),t.Magenta=new t("magenta"),t.Primary=new t("primary"),t.Accent=new t("accent"),t.Background=new t("background"),t.Text=new t("text"),t.Separator=new t("separator"),t.ControlBase=new t("controlBase"),t}(),Yt=function(){function t(){this.modalDialogShadeOpacity=.3,this.spacing=8,this.colors={black:"#000000",darkerGray:"#333333",darkGray:"#777777",gray:"#aaaaaa",lightGray:"#dddddd",white:"#ffffff",slate:"#667788",red:"#ff0000",orange:"#ee9933",yellow:"#ffff00",lime:"#77ff00",green:"#007700",turquoise:"#33aa99",cyan:"#00ffff",blue:"#0000ff",violet:"#ee77cc",purple:"#aa3399",magenta:"#ff00ff",primary:"@blue",accent:"@purple",background:"@white",text:"@background.text",separator:"@background^-50%/20%",controlBase:"@background",modalShade:"@black"},this.icons=Object.create(null),this.styles={container:Kt.create("_container",{position:{gravity:"stretch"},dimensions:{grow:1,shrink:0},containerLayout:{gravity:"stretch",axis:"vertical",distribution:"start",wrapContent:!1}}),scroll:Kt.create("_scroll",{dimensions:{grow:1,shrink:1}}),cell:Kt.create("_cell",{containerLayout:{distribution:"center",gravity:"center"},position:{top:0}}),cell_flow:Kt.create("_cell_flow",{dimensions:{grow:0,shrink:0}}),cell_cover:Kt.create("_cell_cover",{position:{gravity:"overlay",top:0,bottom:0,left:0,right:0,start:0,end:0}}),form:Kt.create("_form",{dimensions:{grow:0}}),column:Kt.create("_column",{containerLayout:{axis:"vertical",gravity:"start"},dimensions:{grow:0,shrink:0}}),row:Kt.create("_row",{containerLayout:{axis:"horizontal",gravity:"center"},dimensions:{grow:0,shrink:0}}),row_opposite:Kt.create("_row_opposite",{containerLayout:{distribution:"end"}}),row_center:Kt.create("_row_center",{containerLayout:{distribution:"center"}}),control:Kt.create("_control",{dimensions:{shrink:1,grow:0}})}}return t.getStyle=function(t,e){var n=this.current.styles[t];return e&&this.current.styles[e]&&(n=n.mixin(this.current.styles[e])),n},t.getTextColor=function(t){return this.isBrightColor(String(t))?"rgba(0,0,0,.8)":"rgba(255,255,255,.95)"},t.isBrightColor=function(t){var e=String(t);if("#"===e[0])return 4===e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),.3*parseInt(e.slice(1,3),16)+.6*parseInt(e.slice(3,5),16)+.1*parseInt(e.slice(5,7),16)>140;if("rgb("===e.slice(0,4)||"rgba("===e.slice(0,5)){var n=e.slice(4).split(",").map(parseFloat);return.3*n[0]+.6*n[1]+.1*n[2]>140}return"hsl("!==e.slice(0,4)||parseFloat(e.slice(4).split(",")[2])>55},t.mixColors=function(t,e,n){function r(t){var e=[0,0,0,1];return"#"===t[0]?(4===t.length&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),e[0]=parseInt(t.slice(1,3),16),e[1]=parseInt(t.slice(3,5),16),e[2]=parseInt(t.slice(5,7),16)):"rgba("===t.slice(0,5)?t.slice(5).split(",").forEach((function(t,n){e[n]=parseFloat(t)})):"rgb("===t.slice(0,4)?t.slice(4).split(",").forEach((function(t,n){e[n]=parseFloat(t)})):"transparent"===t&&(e[3]=0),e}var o=1-n;function i(t,e){return t===e?t:isNaN(t)?e:isNaN(e)?t:Math.floor(o*t+n*e)}var a=r(String(t)),s=r(String(e)),c=i(a[0],s[0])+","+i(a[1],s[1])+","+i(a[2],s[2]),l=o*a[3]+n*s[3];return l>=1?"rgb("+c+")":"rgba("+c+","+l+")"},t.replaceColor=function(t){var e=this,n=String(t);return!n||t instanceof Gt?n:n.replace(/\@(\w+)([.:]text)?((\^)?[\+\-]\d+\%)?([.:]text)?(\/\d+\%)?([.:]text)?/g,(function(t,n,r,o,i,a,s,c){var l=e.current.colors[n]||"rgba(1,2,3,0)";if(/\@\w/.test(l)&&(l=e.replaceColor(l)),r&&(l=e.getTextColor(l)),o){var u=parseFloat(i?o.slice(1):o)/100;i&&!e.isBrightColor(l)&&(u=-u),l=e.mixColors(l,u>0?"#fff":"#000",Math.abs(u))}return a&&(l=e.getTextColor(l)),s&&(u=parseFloat(s.slice(1))/100,l=e.mixColors(l,"rgba(,,,0)",1-u)),c&&(l=e.getTextColor(l)),l}))},t.prototype.clone=function(){var e=new t;return e.modalDialogShadeOpacity=this.modalDialogShadeOpacity,e.spacing=this.spacing,e.ConfirmationDialogBuilder=this.ConfirmationDialogBuilder,e.MenuBuilder=this.MenuBuilder,e.colors=p({},this.colors),e.icons=p({},this.icons),e.styles=p({},this.styles),e},t.prototype.setStyle=function(t,e){return this.styles[t]&&(e=p(p({},this.styles[t].getStyles()),e)),this.styles[t]=Kt.create(t,e)},t}(),Xt=new Kt,Jt=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r)||this;return i.event=o,i}return d(e,t),e}(St),Qt=function(t){function e(e){var n=t.call(this,"BeforeRender")||this;return n.source=e,n}return d(e,t),e}(x),Zt=function(t){function e(e,n){var r=t.call(this,"UIRender")||this;return r.source=e,r.renderCallback=n,r}return d(e,t),e}(x);t.UIFocusRequestType=void 0,(Pt=t.UIFocusRequestType||(t.UIFocusRequestType={}))[Pt.SELF=0]="SELF",Pt[Pt.FORWARD=1]="FORWARD",Pt[Pt.REVERSE=-1]="REVERSE";var te,ee,ne=function(e){function n(n,r){void 0===r&&(r=t.UIFocusRequestType.SELF);var o=e.call(this,"UIFocusRequest")||this;return o.source=n,o.direction=r,o}return d(n,e),n}(x);t.UIComponent=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._style=Xt,t}return d(n,e),n.preset=function(n){for(var r,o,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];n.requestFocus&&(delete n.requestFocus,n.onRendered=function(){this._requestedFocusBefore||(this._requestedFocusBefore=!0,this.requestFocus())}),"string"==typeof n.style?o=n.style:r=n.style;var s,c,l,u=n.dimensions,d=n.position;delete n.style,delete n.dimensions,delete n.position,t.Binding.isBinding(r)&&(this.presetBinding("style",r,(function(t){this.style=t?s.mixin(t):s})),r=void 0),t.Binding.isBinding(u)&&(this.presetBinding("dimensions",u,(function(t){this.dimensions=t?p(p({},c),t):c})),u=void 0),t.Binding.isBinding(d)&&(this.presetBinding("position",d,(function(t){this.position=t?p(p({},l),t):l})),d=void 0);var h=e.preset.apply(this,b([n],g(i),!1));return function(){h.call(this);var t=r||o&&Yt.current.styles[o];t?this._style===Xt?this.style=t:this.style=this._style.mixin(t):s=this.style,u?this.dimensions=p(p({},this.dimensions),u):c=this.dimensions,d?this.position=p(p({},this.position),d):l=this.position}},n.prototype.propagateComponentEvent=function(t,e,n){this.managedState&&(!n&&e instanceof Jt&&(n=e.event),this.emit(Jt,t,this,e,n))},n.prototype.delegateEvent=function(t,n){if(!0!==e.prototype.delegateEvent.call(this,t,n)&&t instanceof Jt)return this.emit(t),!0},n.prototype.render=function(t){this._firstRendered||(this._firstRendered=!0,this.emit(Qt,this)),this.emit(Zt,this,t)},n.prototype.isFocusable=function(){return!1},n.prototype.isKeyboardFocusable=function(){return!1},n.prototype.requestFocus=function(){this.emit(ne,this)},n.prototype.requestFocusNext=function(){this.emit(ne,this,t.UIFocusRequestType.FORWARD)},n.prototype.requestFocusPrevious=function(){this.emit(ne,this,t.UIFocusRequestType.REVERSE)},n.prototype.applyStyle=function(t){t&&(this.dimensions=t.getStyles().dimensions,this.position=t.getStyles().position)},Object.defineProperty(n.prototype,"style",{get:function(){return this._style},set:function(t){if(t!==this._style){if(!(t instanceof Kt))throw w(43);this.applyStyle(this._style=t)}},enumerable:!1,configurable:!0}),n}(t.Component),te=t.UIComponent||(t.UIComponent={}),ee=function(){function t(){this._seq=0}return t.prototype.render=function(t,e){var n=this;if(this._seq++,!t&&this._renderCallback&&(this._renderCallback=this._renderCallback(void 0)),e&&e!==this._renderCallback&&(this._renderCallback&&this._renderCallback(void 0),this._renderCallback=e),t&&this._renderCallback){var r=this._seq,o=function(t,e){return r===n._seq&&(n._renderCallback=n._renderCallback(t,e),r=++n._seq),o};t.render(o)}},t.prototype.removeAsync=function(){var t=this;if(this._renderCallback)return new Promise((function(e){t._renderCallback=t._renderCallback(void 0,e),t._seq++}))},t}(),te.DynamicRendererWrapper=ee;var re,oe=function(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.call(this)||this;return o.content=(new gt).restrict(t.Component).propagateEvents(St),n.length&&o.content.replace(n),o}return d(n,e),n.preset=function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i,a=n.layout;delete n.layout,t.Binding.isBinding(a)&&(this.presetBinding("layout",a,(function(t){this.layout=t?p(p({},i),t):i})),a=void 0);var s=e.preset.apply(this,b([n],g(r),!1));return function(){var t;s.call(this),a?this.layout=p(p({},this.layout),a):i=this.layout,r.length&&(t=this.content).add.apply(t,b([],g(r.filter((function(t){return!!t})).map((function(t){return new t}))),!1))}},n.prototype.applyStyle=function(t){t&&(e.prototype.applyStyle.call(this,t),this.layout=t.getStyles().containerLayout)},n.prototype.isFocusable=function(){return!(!this.allowFocus&&!this.allowKeyboardFocus)},n.prototype.isKeyboardFocusable=function(){return!!this.allowKeyboardFocus},f([Mt,tt],n.prototype,"content",void 0),n}(t.UIComponent);t.UICellTransition=void 0,(re=t.UICellTransition||(t.UICellTransition={})).right="right",re.left="left",re.up="up",re.down="down",re.fade="fade",re.rightFast="right-fast",re.leftFast="left-fast",re.upFast="up-fast",re.downFast="down-fast",re.fadeFast="fade-fast";var ie,ae,se,ce=function(e){function n(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(this,b([],g(t),!1))||this;return r.style=Yt.getStyle("container","cell"),r}return d(n,e),n.preset=function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i,a=n.decoration;delete n.decoration,t.Binding.isBinding(a)&&(this.presetBinding("decoration",a,(function(t){this.decoration=t?p(p({},i),t):i})),a=void 0),n.allowKeyboardFocus&&(n.allowFocus=n.allowKeyboardFocus),n.selectOnFocus&&(n.allowFocus=!0,n.onFocusIn="Select",delete n.selectOnFocus);var s=e.preset.apply(this,b([n],g(r),!1));return function(){s.call(this),a&&(this.decoration=p(p({},this.decoration),a))}},n.prototype.isFocusable=function(){return!(!this.allowFocus&&!this.allowKeyboardFocus)},n.prototype.isKeyboardFocusable=function(){return!!this.allowKeyboardFocus},n.prototype.applyStyle=function(t){t&&(e.prototype.applyStyle.call(this,t),this.decoration=t.getStyles().decoration)},n}(oe),le=ce.with({style:"cell_flow"}),ue=ce.with({style:"cell_cover"}),de=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,b([],g(e),!1))||this;return r.spacing=Yt.current.spacing,r.style=Yt.getStyle("container","column"),r}return d(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.preset.apply(this,b([e],g(n),!1))},e.prototype.hasComponentSpacing=function(){return!!this.spacing},e}(oe),he=de.with({spacing:0}),pe=xt("renderContext"),fe=xt("renderContext.viewportContext");t.UIRenderPlacement=void 0,(ie=t.UIRenderPlacement||(t.UIRenderPlacement={}))[ie.NONE=0]="NONE",ie[ie.PAGE=1]="PAGE",ie[ie.MODAL=2]="MODAL",ie[ie.DIALOG=3]="DIALOG",ie[ie.DRAWER=4]="DRAWER",ie[ie.DROPDOWN=5]="DROPDOWN",ie[ie.DROPDOWN_COVER=6]="DROPDOWN_COVER",ie[ie.POPOVER=7]="POPOVER",ie[ie.POPOVER_ABOVE=8]="POPOVER_ABOVE",ie[ie.POPOVER_LEFT=9]="POPOVER_LEFT",ie[ie.POPOVER_RIGHT=10]="POPOVER_RIGHT",t.UIRenderContext=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.emitRenderChange=function(){this.emitChange()},e.prototype.getAppComponents=function(){return this.getManagedReferrers().filter((function(t){return t instanceof vn}))},e}(Y),ae=t.UIRenderContext||(t.UIRenderContext={}),se=function(t,e,n,r){this.source=t,this.element=e,this.placement=n,this.placementRef=r},ae.Output=se;var ve=function(e){function n(n){var r=e.call(this)||this;return r._renderer=new t.UIComponent.DynamicRendererWrapper,r.content=n||(r._ContentClass?new r._ContentClass:void 0),r}return d(n,e),n.preset=function(t,n){return this.prototype._ContentClass=n,e.preset.call(this,t,n)},n.prototype.delegateEvent=function(t,n){if(!0!==e.prototype.delegateEvent.call(this,t,n)&&t instanceof Jt)return this.emit(t),!0},n.prototype.render=function(t){this._renderer.render(this.content,t)},f([Z],n.prototype,"renderContext",void 0),f([Mt,At],n.prototype,"content",void 0),n}(t.Component.with({renderContext:pe}));ve.addObserver(function(){function t(t){this.component=t}return t.prototype.onContentChange=function(){this.component.render()},t}());var ye=ce.with({style:"form",accessibleRole:"form"}),me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=e.formContext||xt("formContext");delete e.formContext;var i=ye.with.apply(ye,b([e],g(n),!1));return this.presetBoundComponent("content",i).limitBindings("formContext"),t.preset.call(this,{formContext:o},i)},f([Z],e.prototype,"formContext",void 0),e}(ve),ge=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,b([],g(e),!1))||this;return r.spacing=Yt.current.spacing,r.style=Yt.getStyle("container","row"),r}return d(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.preset.apply(this,b([e],g(n),!1))},e.prototype.hasComponentSpacing=function(){return!!this.spacing},e}(oe),be=ge.with({style:"row_opposite"}),we=ge.with({style:"row_center"}),_e=ge.with({spacing:0}),Ce=function(t){function e(e,n,r,o){var i=t.call(this,"UIScrollTarget")||this;return i.source=e,i.target=n,i.yOffset=r,i.xOffset=o,i}return d(e,t),e}(x),xe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e}(Jt),Se=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,b([],g(e),!1))||this;return r.topThreshold=0,r.bottomThreshold=0,r.horizontalThreshold=0,r.verticalScrollEnabled=!0,r.horizontalScrollEnabled=!0,r._vertScrollState={up:!1,down:!1,slowing:0,high:0,velocity:0},r._horzScrollState={start:!1,end:!1,slowing:0,high:0,velocity:0},r.style=Yt.getStyle("container","scroll"),r}return d(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.preset.apply(this,b([e],g(n),!1))},e.prototype.scrollTo=function(t,e){this.emit(new Ce(this,void 0,t,e).freeze())},e.prototype.scrollToTop=function(){this.emit(new Ce(this,"top").freeze())},e.prototype.scrollToBottom=function(){this.emit(new Ce(this,"bottom").freeze())},e.prototype.handleScrollSnap=function(t){if(this.horizontalSnap||this.verticalSnap){var e=this._vertScrollState,n=this._horzScrollState;"ScrollEnd"===t.name?(e.up=e.down=!1,n.start=n.end=!1,e.high=0,n.high=0):(t.scrolledUp&&e.up||t.scrolledDown&&e.down?t.verticalVelocity>=e.velocity?(e.slowing=0,t.verticalVelocity>e.high&&(e.high=t.verticalVelocity)):(e.slowing++,e.slowing>1&&t.verticalVelocity<.75*e.high&&(e.slowing=e.high=0,e.up&&"start"===this.verticalSnap&&this.emitAction("ScrollSnapUp",t),e.down&&"end"===this.verticalSnap&&this.emitAction("ScrollSnapDown",t))):(e.slowing=0,e.high=0),e.up=!!t.scrolledUp,e.down=!!t.scrolledDown,e.velocity=t.verticalVelocity,t.scrolledHorizontalStart&&n.start||t.scrolledHorizontalEnd&&n.end?t.horizontalVelocity>=n.velocity?(n.slowing=0,t.horizontalVelocity>n.high&&(n.high=t.horizontalVelocity)):(n.slowing++,n.slowing>1&&t.horizontalVelocity<.75*n.high&&(n.slowing=n.high=0,n.start&&"start"===this.horizontalSnap&&this.emitAction("ScrollSnapHorizontalStart",t),n.end&&"end"===this.horizontalSnap&&this.emitAction("ScrollSnapHorizontalEnd",t))):(n.slowing=0,n.high=0),n.start=!!t.scrolledHorizontalStart,n.end=!!t.scrolledHorizontalEnd,n.velocity=t.horizontalVelocity)}},e}(oe);Se.addEventHandler((function(t){t instanceof xe&&this.handleScrollSnap(t)}));var Ee,Oe,Ie=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.shrinkwrap=!0,t}return d(n,e),n.preset=function(n){var r,o,i=n.decoration,a=n.textStyle;delete n.decoration,delete n.textStyle,t.Binding.isBinding(i)&&(this.presetBinding("decoration",i,(function(t){this.decoration=t?p(p({},r),t):r})),i=void 0),t.Binding.isBinding(a)&&(this.presetBinding("textStyle",a,(function(t){this.textStyle=t?p(p({},o),t):o})),a=void 0);var s=e.preset.call(this,n);return function(){s.call(this),i?this.decoration=p(p({},this.decoration),i):r=this.decoration,a?this.textStyle=p(p({},this.textStyle),a):o=this.textStyle}},n.prototype.applyStyle=function(t){t&&(e.prototype.applyStyle.call(this,t),this.decoration=t.getStyles().decoration,this.textStyle=t.getStyles().textStyle)},n}(t.UIComponent),Re=function(t){function e(e){var n=t.call(this)||this;return n.style=Yt.getStyle("control","button"),void 0!==e&&(n.label=e),n}return d(e,t),e.preset=function(e){return"text"in e&&(e.label=e.text),!e.navigateTo&&!e.navigationTarget||e.accessibleRole||(e.accessibleRole="link"),t.preset.call(this,e)},e.withLabel=function(t,e){return"string"==typeof t&&(t=yt(t)),this.with({label:t,onClick:e})},e.withIcon=function(t,e,n,r){return this.with({icon:t,iconSize:n,iconColor:r,onClick:e})},e.prototype.isFocusable=function(){return!0},e.prototype.isKeyboardFocusable=function(){return!this.disableKeyboardFocus},e.prototype.getNavigationTarget=function(){return this.navigationTarget||this.navigateTo},e}(Ie),ke=Re.with({style:"button_primary"}),Ae=Re.with({style:"button_borderless"}),Me=Re.with({style:"button_outline"}),Te=Re.with({style:"button_link"}),Pe=Re.with({style:"button_large"}),Ue=Re.with({style:"button_small"}),Be=Re.with({style:"button_icon"}),De=function(t){function e(e){var n=t.call(this)||this;return n.style=Yt.getStyle("control","image"),void 0!==e&&(n.url=e),n}return d(e,t),e.withUrl=function(t,e){return this.with({url:t,style:e})},e.preset=function(e){return e.allowKeyboardFocus&&(e.allowFocus=e.allowKeyboardFocus),t.preset.call(this,e)},e.prototype.isFocusable=function(){return!(!this.allowFocus&&!this.allowKeyboardFocus)},e.prototype.isKeyboardFocusable=function(){return!!this.allowKeyboardFocus},e}(Ie),je=function(t){function e(e){var n=t.call(this)||this;return n.htmlFormat=!1,n.style=Yt.getStyle("control","label"),void 0!==e&&(n.text=e),n}return d(e,t),e.withText=function(t,e){return"string"==typeof t&&(t=yt(t)),e instanceof Kt||"string"==typeof e?this.with({text:t,style:e}):e?this.with({text:t,textStyle:e}):this.with({text:t})},e.withIcon=function(t,e,n){return this.with({icon:t,iconSize:e,iconColor:n})},e.preset=function(e){return e.allowKeyboardFocus&&(e.allowFocus=e.allowKeyboardFocus),t.preset.call(this,e)},e.prototype.isFocusable=function(){return!(!this.allowFocus&&!this.allowKeyboardFocus)},e.prototype.isKeyboardFocusable=function(){return!!this.allowKeyboardFocus},e}(Ie),Fe=je.with({headingLevel:1,style:"heading1"}),Le=je.with({headingLevel:2,style:"heading2"}),Ne=je.with({headingLevel:3,style:"heading3"}),Ve=je.with({style:"paragraph"}),ze=je.with({style:"label_close"}),He=je.with({shrinkwrap:!1}),We=function(t){function e(){var e=t.call(this)||this;return e.thickness=1,e.color="@separator",e.style=Yt.getStyle("control","separator"),e}return d(e,t),e.preset=function(e){return t.preset.call(this,e)},e}(Ie),Ke=function(t){function e(e,n,r){var o=t.call(this)||this;return o.style=Yt.getStyle("control","spacer"),void 0!==e||void 0!==n?o.dimensions=p(p({},o.dimensions),{width:void 0!==e?e:o.dimensions.width,height:void 0!==n?n:o.dimensions.height,grow:0,shrink:r?1:0}):o.shrinkwrap=!1,o}return d(e,t),e.preset=function(e){return void 0!==e.height&&((e.dimensions||(e.dimensions={})).minHeight=e.height,e.shrinkwrap=!0),void 0!==e.width&&((e.dimensions||(e.dimensions={})).minWidth=e.width,e.shrinkwrap=!0),t.preset.call(this,e)},e.withHeight=function(t,e){return void 0===e&&(e=!0),this.with({dimensions:{minHeight:t},shrinkwrap:e})},e.withWidth=function(t,e){return void 0===e&&(e=!0),this.with({dimensions:{minWidth:t},shrinkwrap:e})},e}(Ie),qe=xt("formContext"),$e=mt.type("FORM_REQUIRED","%s is required"),Ge=function(t){function e(e){var n=t.call(this,"FormChange")||this;return n.source=e,n}return d(e,t),e}(E);t.UIFormContext=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.errors=Object.create(null),e._values=Object.create(null),e._validations=Object.create(null),e._changeEvent=new Ge(e).freeze(),e}return d(e,t),e.create=function(t){var n=new e;return n._values=t,n},e.prototype.get=function(t){if(void 0!==t)return this._values[t]},e.prototype.has=function(t){return t in this._values},e.prototype.set=function(t,e,n,r){if(t)if("number"==typeof this._values[t]&&(e=+e),this._values[t]!==e)this._values[t]=e,n&&this.validate(t),r||this.emit(this._changeEvent);else if(n){var o=!!this.errors[t];this.validate(t);var i=!!this.errors[t];r||!o&&!i||this.emit(this._changeEvent)}},e.prototype.unset=function(t){t&&t in this._values&&(delete this._values[t],delete this.errors[t],this.emit(this._changeEvent))},e.prototype.clear=function(){for(var t in this._values=Object.create(null),this.errors)delete this.errors[t];this.emit(this._changeEvent)},e.prototype.serialize=function(){var t=Object.create(null);for(var e in this._values)t[e]=this._values[e];return t},e.prototype.required=function(t,e){return this.test(t,(function(t){return t.required(e)})),this},e.prototype.test=function(t,e){return this._validations[t]=e,this},e.prototype.validate=function(t){var n=this._values[t];if(this._validations[t])try{var r=new e.ValidationTest(t,n);this._validations[t](r),this.errors[t]=void 0}catch(e){this.errors[t]=e}else this.errors[t]=void 0;return!this.errors[t]},e.prototype.validateAll=function(){for(var t in this._validations)this.validate(t);return this},Object.defineProperty(e.prototype,"errorCount",{get:function(){var t=0;for(var e in this.errors)this.errors[e]&&t++;return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){for(var t in this.errors)if(this.errors[t])return!1;return!0},enumerable:!1,configurable:!0}),e}(t.Component),Ee=t.UIFormContext||(t.UIFormContext={}),Oe=function(){function t(t,e){this.name=t,this.value=e}return t.prototype.required=function(t){if(0!==this.value&&!this.value)throw new $e(t||this.name);return this},t.prototype.typeOf=function(t){if(typeof this.value!==t)throw new TypeError;return this},t.prototype.assert=function(t,e){var n=mt.type("FORM_TEST",e);if(!t)throw new n(this.value);return this},t}(),Ee.ValidationTest=Oe;var Ye=function(t){function e(){var e=t.call(this)||this;return e.type="text",e.style=Yt.getStyle("control","textfield"),e.shrinkwrap=!1,e}var n;return d(e,t),e.preset=function(e){return"text"in e&&(e.placeholder=e.text),t.preset.call(this,e)},e.withName=function(t,e){return this.with({name:t,placeholder:e})},e.prototype.isFocusable=function(){return!0},e.prototype.isKeyboardFocusable=function(){return!0},e.UITextFieldObserver=(n=function(){function t(t){this.component=t}return t.prototype.onFormContextChange=function(){if(this.component.formContext&&this.component.name){var t=this.component.formContext.get(this.component.name);this.component.value=void 0===t?"":String(t)}},t.prototype.onInput=function(){var t;null===(t=this.component.formContext)||void 0===t||t.set(this.component.name,this.component.value)},t.prototype.onChange=function(){var t;null===(t=this.component.formContext)||void 0===t||t.set(this.component.name,this.component.value,!0)},t}(),n),f([Z],e.prototype,"formContext",void 0),f([F],e,"UITextFieldObserver",void 0),e}(Ie);Ye.presetBinding("formContext",qe);var Xe=Ye.with({style:"textfield_borderless"}),Je=function(t){function e(){var e=t.call(this)||this;return e.style=Yt.getStyle("control","toggle"),e}var n;return d(e,t),e.preset=function(e){return"text"in e&&(e.label=e.text),t.preset.call(this,e)},e.withName=function(t,e){return this.with({name:t,label:e})},e.prototype.isFocusable=function(){return!0},e.prototype.isKeyboardFocusable=function(){return!0},e.UIToggleObserver=(n=function(){function t(t){this.component=t}return t.prototype.onFormContextChange=function(){if(this.component.formContext&&this.component.name){var t=this.component.formContext.get(this.component.name);this.component.state=!!t}},t.prototype.onStateChange=function(){var t;null===(t=this.component.formContext)||void 0===t||t.set(this.component.name,this.component.state,!0)},t}(),n),f([Z],e.prototype,"formContext",void 0),f([F],e,"UIToggleObserver",void 0),e}(Ie);Je.presetBinding("formContext",qe);var Qe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.preset=function(e,n){return this.presetBindingsFrom(n),this.prototype._ConditionalContentClass=n,t.preset.call(this,e)},e.UIConditionalObserver=function(){function t(t){this.component=t}return t.prototype.onStateChange=function(){this.component._ConditionalContentClass&&!!this.component.content!=!!this.component.state&&(this.component.content=this.component.state?new this.component._ConditionalContentClass:void 0)},t}(),f([F],e,"UIConditionalObserver",void 0),e}(ve),Ze=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.preset=function(e,n){return n&&this.presetBoundComponent("content",n).limitBindings("formContext"),t.preset.call(this,e,n)},f([Z],e.prototype,"formContext",void 0),e}(ve),tn=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;if(!n.content)throw TypeError();return o.context=n.object,o.object=n.object,o.cell=n.content,o.value=n.value,o}return d(e,t),e}(Et),en=function(t){function e(e){var n=t.call(this)||this;return n._selected=!1,n._hovered=!1,n.object=e,n.value=e.valueOf(),n}return d(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o={},i={};for(var a in e)("o"===a[0]&&"n"===a[1]&&(a.charCodeAt(2)<97||a.charCodeAt(2)>122)?i:o)[a]=e[a];o.accessibleRole||(o.accessibleRole="listitem");var s=ce.with.apply(ce,b([o],g(n),!1)),c=this.presetBoundComponent("content",s);return c.limitBindings("object","value","selected","hovered"),t.preset.call(this,i,s)},e.prototype.propagateComponentEvent=function(t,e){this.managedState&&this.emit(tn,t,this,e)},e.prototype.emitAction=function(t,e,n){var r=new tn(t,this,e);r.context=n,this.emit(r.freeze())},e.prototype.delegateEvent=function(e,n){return(e instanceof Et&&!(e instanceof tn)||e instanceof Jt)&&(e=new tn(e.name,this,e)),t.prototype.delegateEvent.call(this,e,n)},Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hovered",{get:function(){return this._hovered},enumerable:!1,configurable:!0}),e.prototype.requestFocus=function(){this.content&&this.content.requestFocus()},e.prototype.requestFocusNext=function(){this.content&&this.content.requestFocusNext()},e.prototype.requestFocusPrevious=function(){this.content&&this.content.requestFocusPrevious()},e.UIListCellAdapterObserver=function(){function t(t){this.adapter=t}return t.prototype.onSelect=function(t){t.source!==this.adapter&&t.source!==this.adapter.content||(this.adapter._selected=!0)},t.prototype.onDeselect=function(t){t.source!==this.adapter&&t.source!==this.adapter.content||(this.adapter._selected=!1)},t.prototype.onMouseEnter=function(t){t.source!==this.adapter&&t.source!==this.adapter.content||(this.adapter._hovered=!0)},t.prototype.onMouseLeave=function(t){t.source!==this.adapter&&t.source!==this.adapter.content||(this.adapter._hovered=!1)},t}(),f([Z],e.prototype,"object",void 0),f([L("_selected")],e.prototype,"selected",null),f([L("_hovered")],e.prototype,"hovered",null),f([F],e,"UIListCellAdapterObserver",void 0),e}(ve),nn=he.with({accessibleRole:"list"}),rn=Promise.resolve(),on=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.items=new gt,e.firstIndex=0,e.lastFocusedIndex=0,e._updateQueued=!1,e._contentMap=new X,e}return d(e,t),e.preset=function(e,n,r,o){return void 0===r&&(r=nn),this.presetBindingsFrom(n,o),this.addObserver(function(){function t(t){this.controller=t,this.Adapter=n,!this.Adapter||this.Adapter.prototype instanceof Y||(this.Adapter=this.Adapter(this)),this.BookEnd=o}return t.prototype.onFocusIn=function(t){if(t.source!==this.controller.content){var e=this.controller.getIndexOfComponent(t.source);this.controller.lastFocusedIndex=Math.max(0,e)}else this.controller.restoreFocus()},t.prototype.onFirstIndexChangeAsync=function(){return this.controller._doUpdateAsync(this.Adapter,this.BookEnd)},t.prototype.onMaxItemsChangeAsync=function(){return this.controller._doUpdateAsync(this.Adapter,this.BookEnd)},t.prototype.onItemsChange=function(t,e){(!e||e instanceof I)&&this.controller._doUpdateAsync(this.Adapter,this.BookEnd)},t}()),t.preset.call(this,e,r)},e.prototype.onFocusIn=function(t){if(t.source!==this.content){var e=this.getIndexOfComponent(t.source);this.lastFocusedIndex=Math.max(0,e)}else this.restoreFocus();return!0},e.prototype.onArrowUpKeyPress=function(){if(!this.focusPreviousItem()){var t=this.getParentComponent(e);t&&t.enableArrowKeyFocus&&t.restoreFocus()}return!0},e.prototype.onArrowDownKeyPress=function(){if(!this.focusNextItem()){var t=this.getParentComponent(e);if(t&&t.enableArrowKeyFocus)return!1}return!0},e.prototype.getIndexOfComponent=function(t){var e=this.content;if(!e)return-1;for(;t&&t.getParentComponent()!==e;)t=t.getParentComponent();return t?e.content.indexOf(t):-1},e.prototype.restoreFocus=function(){var t=this.content;if(t&&t.content.count>0){var e=Math.max(this.lastFocusedIndex,0),n=Math.min(t.content.count-1,e),r=t.content.get(n);"function"==typeof r.requestFocus&&r.requestFocus()}},e.prototype.focusPreviousItem=function(){return this.lastFocusedIndex>0&&(this.lastFocusedIndex--,this.restoreFocus(),!0)},e.prototype.focusNextItem=function(){return this.lastFocusedIndex<this.items.count-1&&(this.lastFocusedIndex++,this.restoreFocus(),!0)},e.prototype._doUpdateAsync=function(t,e){return v(this,void 0,void 0,(function(){var n,r,o,i,a,s,c,l,u,d,h,p,f,v,g,b;return y(this,(function(y){switch(y.label){case 0:return this._updateQueued?[2]:(this._updateQueued=!0,[4,rn]);case 1:if(y.sent(),this._updateQueued=!1,n=this.content,r=n&&n.content,o=this.items,!r)return[2];if(!o||!t)return r.clear(),[2];(i=this.firstIndex)>=0||(i=0),a=this.maxItems,s=i>0||a>=0?o.count>0&&i<o.count?o.take(a>=0?a:o.count,o.get(this.firstIndex)):[]:o,c=this._contentMap,l=[],u=c.toObject();try{for(d=m(s),h=d.next();!h.done;h=d.next())p=h.value,(f=u[p.managedId])?delete u[p.managedId]:(f=new t(p),c.set(String(p.managedId),f)),l.push(f)}catch(t){g={error:t}}finally{try{h&&!h.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error}}for(v in e&&(r.last()instanceof e?l.push(r.last()):l.push(new e)),r.replace(l),u)c.remove(u[v]);return this.enableArrowKeyFocus&&(n.allowKeyboardFocus=!!l.length),this.managedState&&this.emitAction("ListItemsChange"),[2]}}))}))},f([Z],e.prototype,"items",void 0),e}(ve),an=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.placement=t.UIRenderPlacement.MODAL,n}return d(n,e),n.preset=function(n,r,o){var i=o||n.modal;if(delete n.modal,t.Binding.isBinding(i))throw w(45);return r&&this.presetBoundComponent("content",r).limitBindings(),i&&(this.presetBoundComponent("modal",i).limitBindings(),this.prototype._ModalClass=i),e.preset.call(this,n,r)},n.prototype.onShowModal=function(){return this.showModal(),!0},n.prototype.onCloseModal=function(){return this.closeModal(),!0},n.prototype.showModal=function(){this._ModalClass&&(this.modal=new this._ModalClass)},n.prototype.closeModal=function(){this.modal=void 0},f([Mt,tt],n.prototype,"modal",void 0),n}(ve);an.addObserver(function(){function e(t){this.controller=t}return e.prototype.onModalChange=function(){var t=this;if(this._renderCallback&&(this._renderCallback=this._renderCallback(void 0)),this.controller.modal&&this.controller.renderContext&&this._getReferenceComponent()){this._renderCallback=this.controller.renderContext.getRenderCallback();var e=function(n,r){return t._renderCallback?(n&&n.element?(void 0===n.modalShadeOpacity&&(n.modalShadeOpacity=t.controller.modalShadeOpacity),n.placement||(n.placement=t.controller.placement,n.placementRef=t._getReferenceComponent()),t._renderCallback=t._renderCallback(n,r)):(t._renderCallback=t._renderCallback(void 0),t.controller.modal=void 0),e):e};this.controller.modal.render(e)}},e.prototype._getReferenceComponent=function(){for(var e=this.controller;e;){if(e instanceof t.UIComponent)return e;e instanceof ve&&(e=e.content)}},e}());var sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.onSelect=function(t){if(t.source!==this.selected){for(;t.inner instanceof St&&"Select"===t.inner.name;)if((t=t.inner).source===this.selected)return;var e=this.selected;this.selected=t.source,e&&e.managedState&&e.emitAction("Deselect")}},e.prototype.onDeselect=function(t){for(t.source===this.selected&&(this.selected=void 0);t.inner instanceof St&&"Deselect"===t.inner.name;)(t=t.inner).source===this.selected&&(this.selected=void 0)},f([Z],e.prototype,"selected",void 0),e}(ve),cn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.preset=function(e,n){return t.preset.call(this,e,n)},e}(ve);cn.addObserver(function(){function e(t){this.controller=t,this._initial=!0}return e.prototype.onContentChange=function(){var e=this.controller.content;if(e instanceof t.UIComponent){var n=e.style,r=Object.create(null),o=0;Kt.isStyleOverride(e.dimensions,n)&&(r.dimensions=e.dimensions,o++),Kt.isStyleOverride(e.position,n)&&(r.position=e.position,o++),e instanceof oe&&(Kt.isStyleOverride(e.layout,n)&&(r.containerLayout=e.layout,o++),e instanceof ce&&Kt.isStyleOverride(e.decoration,n)&&(r.decoration=e.decoration,o++)),e instanceof Ie&&(Kt.isStyleOverride(e.decoration,n)&&(r.decoration=e.decoration,o++),Kt.isStyleOverride(e.textStyle,n)&&(r.textStyle=e.textStyle,o++)),this.controller.baseStyle=o?n.extend(r):n,this.onStateChange()}},e.prototype.onStateChange=function(){var e,n=this.controller;if(n.baseStyle&&n.content instanceof t.UIComponent){var r=n.baseStyle,o=null===(e=n.styles)||void 0===e?void 0:e[String(n.state)];!o&&n.state&&(o=n.style),"string"==typeof o&&(o=Yt.getStyle(o)),o instanceof Kt?(this._initial=!1,n.content.style=r.mixin(o)):this._initial||(n.content.style=r)}},e}());var ln=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.key=r,o}return d(e,t),e}(Jt),un=function(t){function e(){var e=t.call(this)||this;if(e.options=[],!Yt.current.MenuBuilder)throw w(44);return e.builder=new Yt.current.MenuBuilder,e}return d(e,t),e.preset=function(e){return t.preset.call(this,e)},e.prototype.render=function(t){var e,n;if(this.options.length){this.builder.clear();try{for(var r=m(this.options),o=r.next();!o.done;o=r.next()){var i=o.value;this.builder.addOption(i.key,String(i.text))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}this.gravity&&this.builder.setGravity(this.gravity),this.emitAction("Build");var a=this.builder.build();(this.menu=new a).render(t)},e.prototype.onSelectMenuItem=function(t){return this.selected=t.key,this.emit(t),!0},f([Mt,At],e.prototype,"menu",void 0),e}(t.Component),dn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.index=0,n._renderer=new t.UIComponent.DynamicRendererWrapper,n}return d(n,e),n.preset=function(t){return e.preset.call(this,t)},n.withBoundContent=function(t){return void 0===t&&(t="content"),this.with({view:xt(t)})},n.prototype.delegateEvent=function(t,n){if(!0!==e.prototype.delegateEvent.call(this,t,n)&&t instanceof Jt)return this.emit(t),!0},n.prototype.render=function(t){(t||this.view!==this._lastRendered)&&(this._lastRendered=this.view,this._renderer.render(this.view,t))},f([Z],n.prototype,"managedList",void 0),f([Z],n.prototype,"managedMap",void 0),f([Mt,Z],n.prototype,"view",void 0),n}(t.Component),hn=function(){function t(t){this.component=t}return t.prototype.onViewChange=function(){this.component.render()},t.prototype.updateView=function(){if(this.component.index>=0&&this.component.managedList&&this.component.index<this.component.managedList.count){var t=this.component.index;this.component.view=this.component.managedList.get(t)}else"string"==typeof this.component.index&&this.component.managedMap&&this.component.managedMap.has(this.component.index)?this.component.view=this.component.managedMap.get(this.component.index):this.component.view=void 0},f([N("managedList","managedMap","index")],t.prototype,"updateView",null),t}();dn.addObserver(hn);var pn,fn=xt("activationContext"),vn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),f([Z],e.prototype,"renderContext",void 0),f([Z],e.prototype,"viewportContext",void 0),f([Z],e.prototype,"activationContext",void 0),e}(t.Component.with({renderContext:pe,viewportContext:fe,activationContext:fn})),yn=function(){function t(t,e){this.title=e,t instanceof mn?(this._activity=t,void 0===e&&t.name&&(this.title=t.name)):this._path=String(t)}return t.prototype.toString=function(){for(var t=String((this._activity?this._activity.path:this._path)||""),e=this._activity;e&&"."===t[0]&&"/"===t[1];)(e=e.getParentActivity())instanceof mn&&"string"==typeof e.path&&(t=e.path.replace(/\/$/,"")+t.slice(1));return t},t}(),mn=function(e){function n(t,n){var r=e.call(this)||this;return r.name=t,r.path=n,r}return d(n,e),n.preset=function(t){return e.preset.call(this,t)},Object.defineProperty(n.prototype,"match",{get:function(){return this._matchedPath},enumerable:!1,configurable:!0}),n.prototype.getParentActivity=function(){return this.getManagedParent(n)},n.prototype.getApplication=function(){return this.getManagedParent(n.Application)},n.prototype.activateAsync=function(t){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return this._matchedPath=Object.freeze(t||{path:""}),[4,this.activateManagedAsync()];case 1:return e.sent(),[2]}}))}))},n.prototype.destroyAsync=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.destroyManagedAsync()];case 1:return t.sent(),[2]}}))}))},n.prototype.isActive=function(){return this.managedState===t.ManagedState.ACTIVE},n.prototype.onNavigate=function(t){var e,n,r;if(this.isActive()){for(;t.inner&&"Navigate"===t.inner.name;)t=t.inner;var o=String((null===(n=(e=t.source).getNavigationTarget)||void 0===n?void 0:n.call(e))||"");return o&&(null===(r=this.getApplication())||void 0===r||r.navigate(o)),!0}},n.ActivityObserver=function(){function e(t){this.activity=t}return e.prototype.onActive=function(){this.activity.activated=Date.now()},e.prototype.onInactive=function(){this.activity.deactivated=Date.now()},e.prototype.onPathChangeAsync=function(){return this.checkActivateAsync()},e.prototype.onActivationContextChangeAsync=function(){return this.checkActivateAsync()},e.prototype.checkActivateAsync=function(){return v(this,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return"string"!=typeof this.activity.path?[3,4]:(e=void 0,this.activity.activationContext&&(e=this.activity.activationContext.match(this.activity.path,this.activity))?[4,this.activity.activateAsync(e)]:[3,2]);case 1:return n.sent(),[3,4];case 2:return this.activity.managedState!==t.ManagedState.ACTIVATING&&this.activity.managedState!==t.ManagedState.ACTIVE?[3,4]:[4,this.activity.deactivateManagedAsync()];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},e}(),f([L("_matchedPath")],n.prototype,"match",null),f([F],n,"ActivityObserver",void 0),n}(vn),gn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._target="",e._split=[],e}return d(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){var e=String(t||"").replace(/^\/|\/\s*$/g,"");this._target!==e&&(this._target=e,this._split=e?e.split("/"):[],this.emitChange())},enumerable:!1,configurable:!0}),e.prototype.navigate=function(t,e){},e.prototype.match=function(t,e){for(t=String(t||"");e&&"."===t[0]&&"/"===t[1];)(e=e.getParentActivity())instanceof mn&&"string"==typeof e.path&&(t=e.path.replace(/\/$/,"")+t.slice(1));var n=!1;"/"===t.slice(-1)&&(t=t.slice(0,-1),n=!0),"/"===t[0]&&(t=t.slice(1));for(var r=t?t.split("/"):[],o={path:this._target},i=0;i<this._split.length;){if(i>=r.length)return n?o:void 0;if("*"===r[i][0]){if(r.length>i+1)throw w(0,t);return o[r[i].slice(1)]=this._split.slice(i).join("/"),o}if(":"===r[i][0]&&this._split[i])o[r[i].slice(1)]=this._split[i];else if(r[i]!==this._split[i])return;i++}return i===r.length?o:void 0},e}(Y),bn=function(e){function n(){var n=e.call(this)||this;return n.$list=(new gt).restrict(mn),n.$list.propagateEvents((function(e){return e instanceof Et?e:e===t.ManagedCoreEvent.ACTIVE||e===t.ManagedCoreEvent.INACTIVE?O:void 0})),n}return d(n,e),n.preset=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.preset.apply(this,b([t],g(n),!1)),function(){this.add.apply(this,b([],g(n.map((function(t){return new t}))),!1))}},Object.defineProperty(n.prototype,"count",{get:function(){return this.$list.count},enumerable:!1,configurable:!0}),n.prototype.add=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.$list).add.apply(t,b([],g(e),!1)),this},n.prototype.remove=function(t){return this.$list.remove(t),this},n.prototype.clear=function(){return this.$list.clear(),this},n.prototype.get=function(t){return this.$list.get(t)},n.prototype.includes=function(t){return this.$list.includes(t)},n.prototype.forEach=function(t){this.$list.forEach(t)},n.prototype.map=function(t){return this.$list.map(t)},n.prototype.toArray=function(){return this.$list.toArray()},n.prototype.delegateEvent=function(t){this.emit(t)},f([Mt,tt],n.prototype,"$list",void 0),n}(t.Component),wn=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Application",t}var r;return d(n,e),n.run=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.with.apply(this,b([],g(t),!1));return(new n).activate()},n.preset=function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(r.length){var i=bn.with.apply(bn,b([],g(r),!1));this.presetBoundComponent("activities",i),this.addEventHandler((function(e){e===t.ManagedCoreEvent.INACTIVE&&(this.activities=void 0),e===t.ManagedCoreEvent.ACTIVE&&(this.activities=new i,this.activities.map((function(t){return t.path})).filter((function(t){return!!t})).length||this.activities.forEach((function(t){t.activateAsync().catch(at)})))}))}return e.preset.call(this,n)},n.setAutoUpdateHandler=function(t){pn=t},n.registerAutoUpdate=function(t,e,n){setTimeout((function(){pn&&pn(t,e,n)}),10)},n.prototype.activate=function(){return this.activateAsync().catch(at),this},n.prototype.activateAsync=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.activateManagedAsync()];case 1:return t.sent(),[2]}}))}))},n.prototype.deactivateAsync=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.deactivateManagedAsync()];case 1:return t.sent(),[2]}}))}))},n.prototype.destroyAsync=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.destroyManagedAsync()];case 1:return t.sent(),[2]}}))}))},n.prototype.navigate=function(t,e){return this.activationContext&&this.activationContext.navigate(String(t),e),this},n.prototype.goBack=function(){return this.activationContext&&this.activationContext.navigate("",{back:!0}),this},n.prototype.add=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this.activities||(this.activities=new bn),(t=this.activities).add.apply(t,b([],g(n.filter((function(t){return!e.activities.includes(t)}))),!1)),this},n.prototype.showViewActivityAsync=function(t){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return this.add(t),[4,t.activateAsync()];case 1:return e.sent(),[2,t]}}))}))},n.prototype.findService=function(t){return rt.find(t)},n.active=(r=new gt,n.addObserver(function(){function t(t){this.instance=t}return t.prototype.onActive=function(){r.includes(this.instance)||r.add(this.instance)},t.prototype.onInactive=function(){r.remove(this.instance)},t}()),r),f([Mt,tt],n.prototype,"activities",void 0),f([tt],n.prototype,"renderContext",void 0),f([tt],n.prototype,"activationContext",void 0),n}(t.Component);wn.presetBoundComponent("activities",mn),mn.Application=wn;var _n=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.placement=t.UIRenderPlacement.NONE,n._renderer=new t.UIComponent.DynamicRendererWrapper,n}return d(n,e),n.autoUpdate=function(t){wn.registerAutoUpdate(t,this,"@reload")},n["@reload"]=function(t,e){t.prototype._OrigClass&&(t=t.prototype._OrigClass),e.prototype._OrigClass=t;var n=Object.getOwnPropertyDescriptors(e.prototype);for(var r in n)Object.defineProperty(t.prototype,r,n[r]);var o=t.prototype._ViewClass=e.prototype._ViewClass;if(o&&t.prototype._PresetClass)for(var i in t.prototype._PresetClass.presetBoundComponent("view",o,mn),t.prototype._allActive){var a=t.prototype._allActive[i];a.isActive()&&(a.view=new o)}},n.preset=function(t,n){return n&&(this.presetBoundComponent("view",n,mn),this.prototype._allActive||(this.prototype._allActive=Object.create(null)),this.prototype._ViewClass=n,this.prototype._PresetClass=this),e.preset.call(this,t)},n.prototype.render=function(t){var e=this;if(this._cbContext!==this.renderContext&&(this._renderCallback=void 0,this._cbContext=this.renderContext),t&&t!==this._renderCallback&&(this._renderCallback&&this._renderCallback(void 0),this._renderCallback=t),!this._renderCallback){if(!this.placement)return;if(!this.renderContext)throw w(1);var n=this.placement,r=this.renderContext.getRenderCallback(),o=function(t,i){return t&&(t.placement=n,t.modalShadeOpacity=e.modalShadeOpacity),r=r(t,i),o};this._renderCallback=o}this._renderer.render(this.view,this._renderCallback)},n.prototype.removeViewAsync=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this._renderer.removeAsync()];case 1:return t.sent(),[2]}}))}))},n.prototype.restoreFocus=function(t){t?this.firstFocused&&this.firstFocused.requestFocus():this.lastFocused&&this.lastFocused.requestFocus()},n.prototype.onFocusIn=function(e){e.source instanceof t.UIComponent&&(this.firstFocused||(this.firstFocused=e.source),this.lastFocused=e.source)},n.prototype.showModalAsync=function(t,e,n){return v(this,void 0,void 0,(function(){var r,o;return y(this,(function(i){if(!(r=this.getApplication()))throw w(2);return o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e}((null!=n?n:xn).with(t)),e&&(o.prototype.delegateEvent=e),[2,r.showViewActivityAsync(new o)]}))}))},n.prototype.showDialogAsync=function(t,e){return v(this,void 0,void 0,(function(){return y(this,(function(n){return[2,this.showModalAsync(t,e,Sn)]}))}))},n.prototype.showConfirmationDialogAsync=function(t,e,n,r){var o=this,i=Yt.current.ConfirmationDialogBuilder;if(!i)throw w(3);var a=new i;Array.isArray(t)?t.forEach((function(t){return a.addMessage(t)})):a.addMessage(t),e&&a.setTitle(e),n&&a.setConfirmButtonLabel(n),r&&a.setCancelButtonLabel(r);var s=a.build();return new Promise((function(t){o.showDialogAsync(s,(function(e){"Confirm"===e.name&&(t(!0),this.destroyAsync()),"CloseModal"===e.name&&r&&(t(!1),this.destroyAsync())}))}))},n.ViewActivityObserver=function(){function t(t){this.activity=t}return t.prototype.onActive=function(){this.activity._allActive&&(this.activity._allActive[this.activity.managedId]=this.activity),this.activity._ViewClass&&(this.activity.view=new this.activity._ViewClass)},t.prototype.onInactive=function(){this.activity._allActive&&delete this.activity._allActive[this.activity.managedId],this.activity.view=void 0},t.prototype.onRenderContextChange=function(){return v(this,void 0,void 0,(function(){var t=this;return y(this,(function(e){switch(e.label){case 0:return this.activity.isActive()&&this.activity._ViewClass?(this.activity.view=void 0,this.activity.renderContext?[4,Promise.resolve()]:[3,2]):[3,2];case 1:e.sent(),setTimeout((function(){!t.activity.view&&t.activity.renderContext&&t.activity.isActive()&&t.activity._ViewClass&&(t.activity.view=new t.activity._ViewClass)}),1),e.label=2;case 2:return[2]}}))}))},t.prototype.onViewChangeAsync=function(){this.checkAndRender()},t.prototype.checkAndRender=function(){this.activity.renderContext&&this.activity.view?this.activity.render():this.activity.removeViewAsync().catch(at)},t}(),f([Mt,tt],n.prototype,"view",void 0),f([Z],n.prototype,"firstFocused",void 0),f([Z],n.prototype,"lastFocused",void 0),f([F],n,"ViewActivityObserver",void 0),n}(mn),Cn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.placement=t.UIRenderPlacement.PAGE,n}return d(n,e),n}(_n),xn=function(e){function n(){var n=e.call(this)||this;return n.placement=t.UIRenderPlacement.MODAL,n.modalShadeOpacity=Yt.current.modalDialogShadeOpacity,n}return d(n,e),n.prototype.onCloseModal=function(){return this.destroyAsync(),!0},n}(_n),Sn=function(e){function n(){var n=e.call(this)||this;return n.placement=t.UIRenderPlacement.DIALOG,n}return d(n,e),n}(xn),En=function(e){function n(){var n=e.call(this)||this;if(n._renderer=new t.UIComponent.DynamicRendererWrapper,n._Views)for(var r in n._Views)n[r]=new n._Views[r];return n}return d(n,e),n.preset=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(n.length>1)throw w(4);return n[0]&&this.presetChildView("view",n[0],!0),e.preset.call(this,t)},n.with=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!e||"function"==typeof e||!e.view)return t.Component.with.apply(this,arguments);var o=e;o.content||(o.content=["content"]);var i=o.defaults,a=function(e){function n(n){var r=e.call(this)||this,o=function(e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=e[n];if(o instanceof t.Binding)throw TypeError();r[n]=o}};return i&&o(i),n&&o(n),r}return d(n,e),n.preset=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=0;i<n.length;i++){var a=o.content[i];a&&n[i]&&(tt(this.prototype,a),this.presetChildView(a,n[i]))}return e.preset.call(this,t)},n.prototype.isPresetComponent=function(){return!0},n.with=t.Component.with,n}(this);if("function"==typeof i){var s=i;i=void 0,a._addInitializer((function(){i=s()}))}return a.presetChildView("view",o.view,!0),a},n.presetChildView=function(t,e,n){void 0===n&&(n=[]);var r=this.presetBoundComponent(t,e,_n);!0!==n&&r.limitBindings.apply(r,b([],g(n),!1)),Object.prototype.hasOwnProperty.call(this.prototype,"_Views")||(this.prototype._Views=Object.create(this.prototype._Views||null)),this.prototype._Views[t]=e},n.prototype.delegateEvent=function(t,n){if(!0!==e.prototype.delegateEvent.call(this,t,n)&&t instanceof Jt)return this.emit(t),!0},n.prototype.render=function(t){if(!this.renderContext)throw w(5);this.beforeRender(),this._renderer.render(this.view,t)},n.prototype.beforeRender=function(){},n.prototype.removeViewAsync=function(e){return v(this,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return e&&this.managedState===t.ManagedState.ACTIVE?[4,this.deactivateManagedAsync()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[4,this._renderer.removeAsync()];case 3:return n.sent(),[2]}}))}))},n.prototype.requestFocus=function(){"function"==typeof(this.view&&this.view.requestFocus)&&this.view.requestFocus()},f([Mt,At],n.prototype,"view",void 0),n}(vn);En.addObserver(function(){function t(t){this.component=t}return t.prototype.onRenderContextChange=function(t){t?this.component.render():this.component.removeViewAsync(!0).catch(at)},t}());var On={cell:ce,covercell:ue,flowcell:le,form:me,row:ge,closerow:_e,centerrow:we,oppositerow:be,column:de,closecolumn:he,scrollcontainer:Se,button:Re,iconbutton:Be,largebutton:Pe,smallbutton:Ue,linkbutton:Te,outlinebutton:Me,borderlessbutton:Ae,primarybutton:ke,label:je,closelabel:ze,expandedlabel:He,p:Ve,h1:Fe,h2:Le,h3:Ne,textfield:Ye,borderlesstextfield:Xe,img:De,toggle:Je,separator:We,spacer:Ke,conditional:Qe,formcontext:Ze,list:on,listcell:en,menu:un,modal:an,selection:sn,style:cn,view:dn,viewcontent:dn.withBoundContent()};function In(e,n){for(var r,o,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];a=Rn(a);var c,l,u="",d=[];try{for(var h=m(a),f=h.next();!f.done;f=h.next()){var v=f.value;"string"==typeof v?(u+=v,c=!0):v instanceof t.Binding?(l||(l=[]),l.push(v),u+="%s"):d.push(v)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}var y=n?p({},n):{};if(u&&(l?c||1!==l.length?y.text=new(Ct.bind.apply(Ct,b([void 0,u],g(l),!1))):y.text=l[0]:y.text=yt(u)),"string"==typeof e){var w=In.intrinsicTags[e];if(!w)throw Error("[JSX] Invalid tag: "+e);return w.with.apply(w,b([y],g(d),!1))}return e.prototype instanceof t.Component?(i=e).with.apply(i,b([y],g(d),!1)):e.apply(void 0,b([y],g(d),!1))}function Rn(t){var e=[];return t.forEach((function(t){Array.isArray(t)?e.push.apply(e,b([],g(Rn(t)),!1)):e.push(t)})),e}!function(t){t.intrinsicTags=On,t.tag=function(t){function e(){return this instanceof e?new t:t.with.apply(t,arguments)}return e.prototype=t.prototype,e.with=e,e}}(In||(In={}));var kn,An,Mn=16,Tn={start:"flex-start",end:"flex-end",center:"center",fill:"space-between","space-around":"space-around","":""},Pn={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch",baseline:"baseline","":""},Un={},Bn=[];function Dn(t){for(var e in An||(An={}),t)An[e]=t[e];or.scheduleRender((function(){kn||(kn=function(){var t=document.createElement("style");t.setAttribute("type","text/css"),document.head.appendChild(t);var e={};return function(n,o){for(var i in n)"@"===i[0]&&e[i]?e[i]=r(r({},e[i]),n[i]):e[i]=r({},n[i]);var a="";for(var i in e)if("@"===i[0]){for(var s in a+=i+" {\n",e[i])a+="  "+s+" { "+Kn(e[i][s])+"}\n";a+="}\n"}else a+=i+" { "+Kn(e[i])+"}\n";t.textContent=o.map((function(t){return"@import url("+JSON.stringify(t)+");\n"}))+".UI { display: block }\n"+a}}()),An&&kn(An,Bn),An=void 0}))}function jn(t,e,n,r){if(t.hidden)return e.hidden=!0,void(e.style.cssText="");e.hidden&&(e.hidden=!1);var o,i,a=t.style,s={},c="UI";if(Kt.isStyleOverride(t.dimensions,a)&&Vn(s,t.dimensions),Kt.isStyleOverride(t.position,a)&&zn(s,t.position),t instanceof oe)Kt.isStyleOverride(t.layout,a)&&Nn(s,t.layout),t instanceof ce&&Kt.isStyleOverride(t.decoration,a)&&Wn(s,t.decoration),o=s,(i=t)instanceof ce?(Wn(o,i),i.textDirection&&(o.direction=i.textDirection),void 0!==i.margin&&(o.margin=Fn(i.margin))):i instanceof ge?void 0===i.height||o.height||(o.height=Fn(i.height)):i instanceof de?void 0===i.width||o.width||(o.width=Fn(i.width)):i instanceof Se&&(void 0!==i.padding&&(o.padding=Fn(i.padding)),i.verticalScrollEnabled&&(o.overflowY="auto"),i.horizontalScrollEnabled&&(o.overflowX="auto"));else if(t instanceof Ie){Kt.isStyleOverride(t.decoration,a)?Wn(s,t.decoration):t.decoration.cssClassNames&&(s.className=t.decoration.cssClassNames.join(" ")),Kt.isStyleOverride(t.textStyle,a)&&Hn(s,t.textStyle);var l=+t.dimensions.grow;if((!0===t.shrinkwrap&&l||!1===t.shrinkwrap&&!l)&&(s.flexGrow=t.shrinkwrap?"0":"1"),t instanceof We){if(s.borderWidth=Fn(t.thickness),t.margin){var u=Fn(t.margin);s.margin=t.vertical?"0 "+u:u+" 0"}t.color&&(s.borderColor=Yt.replaceColor(t.color))}}Un[a.id]||Ln(a),a.ids.length&&(c+=" "+a.ids.join(" ")),s.className&&(c+=" "+s.className,delete s.className),r&&(c+=" "+r),e.className=c;var d=Kn(s);!d&&n||(e.style.cssText=d)}function Fn(t,e){if(void 0===e&&(e="auto"),"string"==typeof t)return t;if("number"==typeof t)return t/16+"rem";if("object"==typeof t){var n=0,r=0,o=0,i=0;return t.x&&(o=i=Fn(t.x)),t.y&&(n=r=Fn(t.y)),t.top&&(n=Fn(t.top)),t.bottom&&(r=Fn(t.bottom)),t.start?o=Fn(t.start):t.left&&(o=Fn(t.left)),t.end?i=Fn(t.end):t.right&&(i=Fn(t.right)),n+" "+i+" "+r+" "+o}return e}function Ln(t){var e,n,r;Un[t.id]=!0;var o=function(t){var e={};return t.containerLayout&&Nn(e,t.containerLayout),t.dimensions&&Vn(e,t.dimensions),t.position&&zn(e,t.position),t.textStyle&&Hn(e,t.textStyle),t.decoration&&Wn(e,t.decoration),e};Dn(((e={})[".UI"+t.ids.map((function(t){return"."+t})).join("")]=o(t.getOwnStyles()),e));var i=function(e,n){var r,i=t.conditionalStyles[n];i&&Dn(((r={})[".UI"+t.ids.map((function(t){return"."+t})).join("")+e]=o(i.getStyles()),r))};if(i(":focus","focused"),i(":hover:not([disabled])","hover"),i(":active:not([disabled])","pressed"),i("[disabled]","disabled"),i("[data-selected]","selected"),t.inherited.length)try{for(var a=s(t.inherited),c=a.next();!c.done;c=a.next()){var l=c.value;Un[l.id]||Ln(l)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function Nn(t,e){var n=e.axis;void 0!==n&&(t.flexDirection="horizontal"===n?"row":"column");var r=e.distribution;void 0!==r&&(t.justifyContent=Tn[r]||"");var o=e.gravity;void 0!==o&&(t.alignItems=Pn[o]||"");var i=e.wrapContent;void 0!==i&&(t.flexWrap=i?"wrap":"nowrap");var a=e.clip;void 0!==a&&(t.overflow=a?"hidden":"visible")}function Vn(t,e){var n=e.width;void 0!==n&&(t.width=Fn(n));var r=e.height;void 0!==r&&(t.height=Fn(r));var o=e.minWidth;void 0!==o&&(t.minWidth=Fn(o,""));var i=e.minHeight;void 0!==i&&(t.minHeight=Fn(i,""));var a=e.maxWidth;void 0!==a&&(t.maxWidth=Fn(a,""));var s=e.maxHeight;void 0!==s&&(t.maxHeight=Fn(s,""));var c=e.grow;void 0!==c&&(t.flexGrow=c);var l=e.shrink;void 0!==l&&(t.flexShrink=l)}function zn(t,e){var n,r,o,i,a,s,c=e.gravity;void 0===e.left&&void 0===e.right&&void 0===e.start&&void 0===e.end||(a=!0,t.left=Fn(null!==(n=e.left)&&void 0!==n?n:e.start),t.right=Fn(null!==(r=e.right)&&void 0!==r?r:e.end),t.insetInlineStart=Fn(null!==(o=e.start)&&void 0!==o?o:e.left),t.insetInlineEnd=Fn(null!==(i=e.end)&&void 0!==i?i:e.right)),void 0===e.top&&void 0===e.bottom||(s=!0,t.top=Fn(e.top),t.bottom=Fn(e.bottom)),"overlay"===c?(t.position="absolute",t.zIndex="100",a||(t.margin="auto")):(c&&(t.alignSelf=Pn[c]),(a||s)&&(t.position="relative"))}function Hn(t,e){var n=e.direction;void 0!==n&&(t.direction=n);var r=e.align;void 0!==r&&(t.textAlign=r);var o=e.color;void 0!==o&&(t.color=Yt.replaceColor(o));var i=e.fontFamily;void 0!==i&&(t.fontFamily=i);var a=e.fontSize;void 0!==a&&(t.fontSize=Fn(a,"inherit"));var s=e.fontWeight;void 0!==s&&(t.fontWeight=String(s));var c=e.letterSpacing;void 0!==c&&(t.letterSpacing=Fn(c));var l=e.lineHeight;void 0!==l&&(t.lineHeight=String(l));var u=e.lineBreakMode;"clip"===u?(t.overflow="hidden",t.textOverflow="clip"):"ellipsis"===u?(t.overflow="hidden",t.textOverflow="ellipsis"):void 0!==u&&(t.whiteSpace=u),e.bold&&(t.fontWeight="bold");var d=e.italic;void 0!==d&&(t.fontStyle=d?"italic":"normal");var h=e.uppercase;void 0!==h&&(t.textTransform=h?"uppercase":"none");var p=e.smallCaps;void 0!==p&&(t.fontVariant=p?"small-caps":"normal");var f=e.underline,v=e.strikeThrough;f?t.textDecoration="underline"+(v?" line-through":""):v?t.textDecoration="line-through":!1!==f&&!1!==v||(t.textDecoration="none")}function Wn(t,e){var n=e.background;void 0!==n&&(t.background=Yt.replaceColor(n));var r=e.textColor;void 0!==r&&(t.color=Yt.replaceColor(r));var o=e.borderThickness;void 0!==o&&(t.borderWidth=Fn(o));var i=e.borderColor;null!=i&&(t.borderColor=Yt.replaceColor(i)),null!=e.borderStyle&&(t.borderStyle=e.borderStyle),void 0!==e.borderRadius&&(t.borderRadius=Fn(e.borderRadius));var a=e.padding;if(void 0!==a&&(t.padding=Fn(a)),void 0!==e.dropShadow&&(t.boxShadow=function(t){void 0===t&&(t=0);var e="";return t<0&&(e="inset ",t=-t),(t=Math.min(1,Math.max(0,t)))>0?e+"0 0 "+2*t+"rem "+-.25*t+"rem rgba(0,0,0,"+t*t*.3+"),"+e+"0 "+.85*t+"rem "+1*t+"rem "+-.25*t+"rem rgba(0,0,0,"+(.15*t+.1)+"),"+e+"0 "+(t*t*.5+.6*t)+"rem "+1*t+"rem "+-1*t+"rem rgba(0,0,0,.4),"+e+"0 "+t*t*1.5+"rem "+3*t+"rem "+-1*t+"rem rgba(0,0,0,.3),"+e+"0 "+t*t*3+"rem "+2.5*t+"rem "+-2*t+"rem rgba(0,0,0,.3)":"none"}(e.dropShadow)),e.opacity>=0&&(t.opacity=String(e.opacity)),e.css)for(var s in e.css)t[s]=e.css[s];e.cssClassNames&&(t.className=e.cssClassNames.join(" "))}function Kn(t){var e="",n=function(n){if("className"===n||""===t[n]||null==t[n])return"continue";var r=function(t){var e;return null!==(e=Gn[t])&&void 0!==e?e:Gn[t]=t.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^(webkit|o|ms|moz)-/,"-$1-")}(n),o=String(t[n]);o.indexOf("|")>=0?o.split("||").reverse().forEach((function(t){e+=r+": "+t+"; "})):e+=r+": "+o+"; "};for(var r in t)n(r);return e}var qn,$n,Gn=Object.create(null),Yn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.narrow=!1,e.wide=!1,e.short=!1,e.tall=!1,e._smallBreakpoint=590,e._largeBreakpoint=1150,e}return n(e,t),e.prototype.setBreakpoints=function(t,e){this._smallBreakpoint=t,this._largeBreakpoint=e,this.update()},e.prototype.update=function(){var t=!1,e=window.innerWidth/Mn*16,n=window.innerHeight/Mn*16,r=e<this._smallBreakpoint,o=e>this._largeBreakpoint,i=n<this._smallBreakpoint,a=n>this._largeBreakpoint;return this.width=e,this.height=n,this.narrow!==r&&(this.narrow=r,t=!0),this.wide!==o&&(this.wide=o,t=!0),this.short!==i&&(this.short=i,t=!0),this.tall!==a&&(this.tall=a,t=!0),t&&this.emitChange(),!1},e}(Y),Xn=(window.DOM_UI_RENDER_MODULE_ID=(window.DOM_UI_RENDER_MODULE_ID||1e3)+1)+Math.floor(1e6*Math.random())+"_RendererBase";function Jn(t){var e=this.lastChild;e&&t.target&&t.target!==e&&(e.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_CONTAINED_BY||(t.preventDefault(),setTimeout((function(){var t=document.createElement("div");t.tabIndex=-1,e.insertBefore(t,e.firstChild),t.focus(),e.removeChild(t)}),0)))}var Qn=["click","dblclick","contextmenu","mouseup","mousedown","keydown","keypress","keyup","focusin","focusout","touchstart","touchend"];function Zn(t){for(var e=t.target;e&&e!==this;){var n=e[Xn];if(n&&n.DOM_EMIT)return n.DOM_EMIT.call(n,t);e=e.parentNode}}var tr=["change","input","copy","cut","paste"];function er(t){var e=t.target,n=e[Xn]||e.parentNode&&e.parentNode[Xn];if(n&&n.DOM_CONTROL_EMIT)return n.DOM_CONTROL_EMIT.call(n,t)}var nr=["mouseenter","mouseleave","submit"];function rr(t){for(var e=t.target;e&&e!==this;){var n=e[Xn];if(n&&n.DOM_CELL_EMIT)return n.DOM_CELL_EMIT.call(n,t);e=e.parentNode}}var or=function(e){function r(t,n){var o=e.call(this)||this;return o.viewportContext=new Yn,o._updateViewportContext=function(){return o.viewportContext.update()},t?(o.root=t,o._removeOnDestroy=!!n):(o.root=r.createFixedRootElement(),o._removeOnDestroy=!0),o.addEventListeners(),o.viewportContext.update(),o}return n(r,e),r.scheduleRender=function(t,e){if(e&&!$n&&($n=[]),!qn){qn=[];var n=function(){for(var t=Date.now();qn&&qn.length||$n;){for(;qn&&qn.length;)if(qn.shift()(),Date.now()-t>30)return void setTimeout(r,10);if($n){var e=$n.shift();$n.length||($n=void 0),qn=[e]}}qn=void 0},r=function(){if("function"==typeof window.requestAnimationFrame){var t=0,e=function(){t||n(t=1)};window.requestAnimationFrame(e),setTimeout(e,200)}else setTimeout(n,10)};r()}return new Promise((function(n,r){(e?$n:qn).push((function(){try{n(t())}catch(t){r(t)}}))}))},r.createFixedRootElement=function(){var t=document.createElement("app");return t.className="App__FixedRoot",t.style.opacity="0",setTimeout((function(){t.style.background=Yt.replaceColor("@appBackground"),t.style.color=Yt.replaceColor("@text"),t.style.opacity="1"}),0),document.body.appendChild(t),t},r.prototype.addEventListeners=function(){var t,e,n,r,o,i;window.addEventListener("resize",this._updateViewportContext),this._updateViewportTimer=setInterval(this._updateViewportContext,500),this.root.removeEventListener("focusin",Jn,!0),this.root.addEventListener("focusin",Jn,!0);try{for(var a=s(Qn),c=a.next();!c.done;c=a.next()){var l=c.value;this.root.removeEventListener(l,Zn),this.root.addEventListener(l,Zn)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}try{for(var u=s(tr),d=u.next();!d.done;d=u.next()){var h=d.value;this.root.removeEventListener(h,er),this.root.addEventListener(h,er)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}try{for(var p=s(nr),f=p.next();!f.done;f=p.next()){var v=f.value;this.root.removeEventListener(v,rr,!0),this.root.addEventListener(v,rr,!0)}}catch(t){o={error:t}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}},r.prototype.clear=function(){this.root.innerHTML=""},r.prototype.onManagedStateDestroyingAsync=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.prototype.onManagedStateDestroyingAsync.call(this)];case 1:return t.sent(),window.removeEventListener("resize",this._updateViewportContext),clearInterval(this._updateViewportTimer),this.clear(),this._removeOnDestroy&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),[2]}}))}))},r.prototype.getRenderCallback=function(){var e=this,n=function(r,o){return r?r.placement===t.UIRenderPlacement.PAGE?e._placePage(r,o):e._placeModal(r,o):n};return n},r.prototype._placePage=function(e,n){var o=this,i=function(t){if(o.managedState){if(t.detach&&t.detach(),o._page){var e=o._page.element.nextSibling;o.root.insertBefore(t.element,e),o._page.element!==t.element&&o._rm(o._page.element)}else o.root.insertBefore(t.element,o.root.firstChild);o._page=t;for(var n=t.source.getParentComponent(mn);n;){var r=n.navigationTarget&&String(n.navigationTarget.title||"")||n.name||"";if(r){document.title=r;break}n=n.getParentActivity()}}},a=e;r.scheduleRender((function(){return o._page!==e&&i(e),e})).then(n).catch(at);var s=function(e,n){return e&&e.placement!==t.UIRenderPlacement.PAGE?(a&&o._rm(a.element),o._placeModal(e,n)):(r.scheduleRender((function(){if(o.managedState)return o._page===a&&(e?(i(e),a=e):(a&&o._rm(a.element),a=o._page=void 0)),e})).then(n).catch(at),e?s:o.getRenderCallback())};return s},r.prototype._placeModal=function(e,n){var o=this,i=document.createElement("div");i.className="App__ModalShader",i.tabIndex=0,hr.transitionsDisabled&&(i.style.transition="none"),i.addEventListener("click",(function(n){n.target!==i&&n.target!==a||(n.stopPropagation(),e.source instanceof t.UIComponent&&r.$touchData.last<Date.now()-1e3&&e.source.emitAction("CloseModal"))}),!0),i.addEventListener("touchend",(function(n){n.target!==i&&n.target!==a||(n.stopPropagation(),e.source instanceof t.UIComponent&&(r.$touchData.last=Date.now(),e.source.emitAction("CloseModal")))}),!0),i.addEventListener("keydown",(function(n){27===n.keyCode?(n.stopPropagation(),e.source instanceof t.UIComponent&&(e.source.emit(Jt,"EscapeKeyPress",e.source,void 0,n),e.source.emitAction("CloseModal"))):e.source instanceof t.UIComponent&&(37===n.keyCode?e.source.emit(Jt,"ArrowLeftKeyPress",e.source,void 0,n):38===n.keyCode?e.source.emit(Jt,"ArrowUpKeyPress",e.source,void 0,n):39===n.keyCode?e.source.emit(Jt,"ArrowRightKeyPress",e.source,void 0,n):40===n.keyCode&&e.source.emit(Jt,"ArrowDownKeyPress",e.source,void 0,n))}),!0);var a=document.createElement("div");a.className="App__ModalWrapper",a.setAttribute("aria-modal","true"),i.appendChild(a);var s=document.activeElement;r.scheduleRender((function(){if(o.managedState)return o._addModalContent(a,e),o.root.appendChild(i),setTimeout(t,0),setTimeout(t,10),setTimeout(t,100),setTimeout((function(){i.dataset.transitionT="revealed"}),0),e;function t(){document.activeElement&&i.compareDocumentPosition(document.activeElement)&Node.DOCUMENT_POSITION_CONTAINED_BY||i.focus()}})).then(n).catch(at);var c=function(e,n){return e&&e.placement===t.UIRenderPlacement.PAGE?(o._rm(i),o._placePage(e,n)):(r.scheduleRender((function(){if(o.managedState){if(e)o._addModalContent(a,e);else if(i.style.background="",sr(i,a.firstChild),s)try{s.focus()}catch(t){}return e}})).then(n).catch(at),e?c:o.getRenderCallback())};return c},r.prototype._addModalContent=function(e,n){for(var r=e.firstChild;r;)r.dataset&&r.dataset.uiRemoved||e.removeChild(r),r=r.nextSibling;setTimeout((function(){var t=100*(n.modalShadeOpacity||0)+"%",r=Yt.replaceColor("@modalShade/"+t),o=e.parentNode;o&&(o.style.backgroundColor=r)}),0),n.detach&&n.detach(),e.appendChild(n.element),e.style.cssText="";var o=n.placementRef&&n.placementRef.lastRenderOutput,i=o&&o.element,a=i&&i.getBoundingClientRect&&i.getBoundingClientRect();switch(n.placement){case t.UIRenderPlacement.DROPDOWN:case t.UIRenderPlacement.DROPDOWN_COVER:if(e.style.position="absolute",!a)break;e.style.top=n.placement===t.UIRenderPlacement.DROPDOWN?a.bottom+"px":a.top+"px",e.style.left=a.left+"px",e.style.width=a.width+"px",e.style.flexDirection="column",e.style.opacity="0",setTimeout((function(){ir(e,a.top)}),0);break;case t.UIRenderPlacement.POPOVER:if(e.style.position="absolute",!a)break;var s=(a.left+a.right)/2;e.style.top=a.bottom+8+"px",e.style.left=s-70+"px",e.style.width="140px",e.style.flexDirection="column",e.style.opacity="0",setTimeout((function(){ir(e)}),0);break;case t.UIRenderPlacement.POPOVER_ABOVE:if(e.style.position="relative",!a)break;var c=(a.left+a.right)/2;e.style.top=a.top-8+"px",e.style.height="0px",e.style.left=c-70+"px",e.style.width="140px",e.style.flexDirection="column",e.style.justifyContent="flex-end",e.style.flexGrow="0",e.style.opacity="0",setTimeout((function(){ir(e)}),0);break;case t.UIRenderPlacement.POPOVER_LEFT:if(e.style.position="absolute",!a)break;var l=(a.top+a.bottom)/2;e.style.top=l-16+"px",e.style.height="32px",e.style.left=a.left-8+"px",e.style.width="0px",e.style.flexDirection="row",e.style.alignItems="center",e.style.justifyContent="flex-end",e.style.opacity="0",setTimeout((function(){ar(e)}),0);break;case t.UIRenderPlacement.POPOVER_RIGHT:if(e.style.position="absolute",!a)break;var u=(a.top+a.bottom)/2;e.style.top=u-16+"px",e.style.height="32px",e.style.left=a.right+8+"px",e.style.width="0px",e.style.flexDirection="row",e.style.alignItems="center",e.style.justifyContent="flex-start",e.style.opacity="0",setTimeout((function(){ar(e)}),0);break;case t.UIRenderPlacement.DRAWER:e.style.flexDirection="column",e.style.alignItems="start",e.style.justifyContent="space-around";break;case t.UIRenderPlacement.DIALOG:e.style.flexDirection="row",e.style.alignItems="center",e.style.justifyContent="space-around";break;default:e.style.flexDirection="column",e.style.alignItems="stretch",e.style.justifyContent="stretch"}},r.prototype._rm=function(t){t&&t.parentNode===this.root&&this.root.removeChild(t)},r.$touchData={last:0},o([tt],r.prototype,"viewportContext",void 0),r}(t.UIRenderContext);function ir(t,e){void 0===e&&(e=-1);var n=t.firstChild;if(n&&n.dataset&&"revealing"===n.dataset.transitionT){t.style.opacity="";var r=function(){n.removeEventListener("animationend",r),n.removeEventListener("animationcancel",r),n.removeEventListener("transitionend",r),n.removeEventListener("transitioncancel",r),ir(t,e)};return n.addEventListener("animationend",r),n.addEventListener("animationcancel",r),n.addEventListener("transitionend",r),n.addEventListener("transitioncancel",r),void setTimeout((function(){or.scheduleRender(r)}),1e3)}var o=(n||t).getBoundingClientRect();o.left<0?(t.style.left="0px",t.style.width=o.width>window.innerWidth?o.width+"px":"auto"):o.right>window.innerWidth&&(t.style.left=Math.max(0,window.innerWidth-o.width)+"px",t.style.width=o.width+"px"),o.top<0?(t.style.top="0px",t.style.bottom="",t.style.justifyContent="flex-start"):o.bottom>window.innerHeight&&(e>0&&o.height<e?(t.style.top=e+"px",t.style.height="0px",t.style.justifyContent="flex-end"):o.height<window.innerHeight?(t.style.bottom="0px",t.style.top="",t.style.justifyContent="flex-end"):(t.style.top="0px",t.style.bottom="",t.style.justifyContent="flex-start")),t.style.opacity=""}function ar(t){var e=t.firstChild;if(e&&e.dataset&&"revealing"===e.dataset.transitionT){t.style.opacity="";var n=function(){e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),e.removeEventListener("transitionend",n),e.removeEventListener("transitioncancel",n),ar(t)};return e.addEventListener("animationend",n),e.addEventListener("animationcancel",n),e.addEventListener("transitionend",n),e.addEventListener("transitioncancel",n),void setTimeout((function(){or.scheduleRender(n)}),1e3)}var r=(e||t).getBoundingClientRect();r.left<0?(t.style.left="0px",t.style.width=r.width>window.innerWidth?r.width+"px":"auto",t.style.justifyContent="flex-start"):r.right>window.innerWidth&&(t.style.left=Math.max(0,window.innerWidth-r.width)+"px",t.style.width=r.width+"px",t.style.justifyContent="flex-end"),r.top<0?(t.style.top="0px",t.style.bottom="",t.style.height=r.height+"px"):r.bottom>window.innerHeight&&(t.style.top=Math.max(0,window.innerHeight-r.height)+"px",t.style.bottom="",t.style.height=r.height+"px"),t.style.opacity=""}function sr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=t.parentNode;if(r){t.dataset.uiRemoved="removed";var o,i=0;s(t),e.forEach(s),i?o=setTimeout((function(){i=0,a()}),2e3):Promise.resolve().then((function(){return a()}))}function a(){this&&this.removeEventListener("animationend",a),this&&this.removeEventListener("animationcancel",a),this&&this.removeEventListener("transitionend",a),this&&this.removeEventListener("transitioncancel",a),this!==t&&--i>0||(t.parentNode===r&&r.removeChild(t),o&&clearTimeout(o))}function s(t){t&&t.dataset.transitionExit&&(t.addEventListener("animationend",a),t.addEventListener("animationcancel",a),t.addEventListener("transitionend",a),t.addEventListener("transitioncancel",a),t.dataset.transitionT="exiting",i++)}}function cr(t,e,n){var r;if(t.hot){t.hot.accept();var o=null===(r=t.hot.data)||void 0===r?void 0:r.autoUpdate;setTimeout((function(){o&&e[n]&&e[n](o,e)}),0),e[n]&&t.hot.dispose((function(n){(n||t.hot.data).autoUpdate=e}))}}t.HMR=void 0,(t.HMR||(t.HMR={})).enableViewReload=function(t,e){return e};var lr=function(t){function e(){var e=t.call(this)||this;return e._handler=function(){e._setPath()},window.addEventListener("hashchange",e._handler),e._setPath(),e}return n(e,t),e.prototype.getPathHref=function(t){var e="";if(!t||":"===t[0])return"";if("#"===t[0]&&(t=t.slice(1)),"/"===t[0])e=t;else{var n=this.target;"/"!==n.slice(-1)&&(n+="/"),e="/"+n+t}e=e.replace(/\/+/g,"/");for(var r=0;/\/\.\.?\//.test(e)&&!(r++>100);)e=e.replace(/\/\.\//g,"/").replace(/\/[^\/]+\/\.\.\//g,"/").replace(/^\/?\.\.\//,"/");return"#/"+e.replace(/^\/+/,"")},e.prototype.navigate=function(t,e){var n=this;t=String(t),e&&e.back?(window.history.back(),t&&setTimeout((function(){return n.navigate(t,r(r({},e),{back:!1}))}),1)):":back"===t?window.history.back():e&&e.replace&&"function"==typeof window.history.replaceState?t&&(window.history.replaceState({},document.title,this.getPathHref(t)),this._setPath()):t&&(window.location.hash=this.getPathHref(t))},e.prototype.onManagedStateDestroyingAsync=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){return window.removeEventListener("hashchange",this._handler),[2]}))}))},e.prototype._setPath=function(){var t=String(window.location.hash||"").replace(/^\#\/?/,"");this.target=t},e}(gn),ur=function(t){function e(){var e=t.call(this)||this;return e._handler=function(){e._setPath()},window.addEventListener("popstate",e._handler),e._setPath(),e}return n(e,t),e.prototype.getPathHref=function(t){var e="";if(!t||":"===t[0])return"";if("#"===t[0]&&(t=t.slice(1)),"/"===t[0])e=t;else{var n=this.target;"/"!==n.slice(-1)&&(n+="/"),e="/"+n+t}e=e.replace(/\/+/g,"/");for(var r=0;/\/\.\.?\//.test(e)&&!(r++>100);)e=e.replace(/\/\.\//g,"/").replace(/\/[^\/]+\/\.\.\//g,"/").replace(/^\/?\.\.\//,"/");return"/"+e.replace(/^\/+/,"")},e.prototype.navigate=function(t,e){var n=this;e&&e.back?(window.history.back(),t&&setTimeout((function(){return n.navigate(t,r(r({},e),{back:!1}))}),1)):":back"===t?window.history.back():e&&e.replace&&"function"==typeof window.history.replaceState?(t&&window.history.replaceState({},document.title,this.getPathHref(t)),this._setPath()):(t&&window.history.pushState({},document.title,this.getPathHref(t)),this._setPath())},e.prototype.onManagedStateDestroyingAsync=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){return window.removeEventListener("popstate",this._handler),[2]}))}))},e.prototype._setPath=function(){var t=String(window.location.pathname||"").replace(/^\/?/,"");this.target=t},e}(gn),dr=!1;wn.setAutoUpdateHandler(cr);var hr=function(t){function e(e){var n=t.call(this)||this;return n._root=e,n}return n(e,t),e.setGlobalDpSize=function(t){void 0===t&&(t=1),function(t){Dn({html:{fontSize:(Mn=16*t)+"px"}})}(t)},e.importStylesheet=function(t){!function(t){Bn.push(t),Dn({})}(t)},e.disableTransitions=function(){dr=!0},Object.defineProperty(e,"transitionsDisabled",{get:function(){return dr},enumerable:!1,configurable:!0}),e.prototype.onManagedStateActivatingAsync=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,t.prototype.onManagedStateActivatingAsync.call(this)];case 1:return e.sent(),this.renderContext||(this._root||(document.body.innerHTML=""),this.renderContext=new or(this._root)),this.activationContext||(this.activationContext=this._useHistoryAPI?new ur:new lr),[2]}}))}))},e.prototype.onManagedStateInactiveAsync=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,t.prototype.onManagedStateInactiveAsync.call(this)];case 1:return e.sent(),this.renderContext=void 0,this.activationContext=void 0,[2]}}))}))},e.prototype.mount=function(t,e){return this._root=t,this.renderContext&&(this.renderContext=new or(t,e)),this},e.prototype.unmount=function(){return this._root=void 0,this.renderContext=void 0,this},e.prototype.useHistoryAPI=function(){return this._useHistoryAPI=!0,this.activationContext&&(this.activationContext=new ur),this},e}(wn);hr.addObserver(function(){function t(){}return t.prototype.onRenderContextChange=function(){Un={}},t}());var pr,fr=Kt.group({alertDialog:{decoration:{background:"@background",borderRadius:4,dropShadow:.65},position:{gravity:"center"},dimensions:{maxWidth:400,width:"95vw"}},"alertDialog-titlebar":{decoration:{background:"@primary",textColor:"@primary.text"},dimensions:{height:40}},"alertDialog-title":{},"alertDialog-buttonRow":{containerLayout:{distribution:"end"},decoration:{padding:0}},"alertDialog-cancelButton":{dimensions:{grow:0}},"alertDialog-confirmButton":{dimensions:{grow:0}}}),vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.beforeRender=function(){var t,e,n=[];try{for(var r=s(this.messages),o=r.next();!o.done;o=r.next()){var i=o.value;n.push(new Ve(i))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.messageLabels=n},e}(En.with({defaults:function(){return{messages:[],title:void 0,confirmButtonLabel:yt("Dismiss"),cancelButtonLabel:void 0}},view:ce.with({style:"alertDialog",revealTransition:"up-fast"},le.with({style:"alertDialog-titlebar",hidden:xt("title|!"),onMouseDown:"+DragContainer"},_e.with(Ke.withWidth(16),He.withText(xt("title"),"alertDialog-title"),Ae.with({position:{gravity:"center"},icon:"close",onClick:"+CloseModal",iconSize:18,iconColor:"currentColor",textStyle:{color:"inherit"},disableKeyboardFocus:!0}))),ce.with({padding:16},he.with({content:xt("messageLabels",[])}),Ke.withHeight(24),ge.with({style:"alertDialog-buttonRow"},Te.with({style:"alertDialog-cancelButton",shrinkwrap:"auto",hidden:xt("cancelButtonLabel|!"),label:xt("cancelButtonLabel"),onClick:"+CloseModal"}),ke.with({style:"alertDialog-confirmButton",shrinkwrap:"auto",label:xt("confirmButtonLabel"),onClick:"+Confirm",requestFocus:!0}))))})),yr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._presets={messages:[]},e}return n(e,t),e.prototype.build=function(){return vr.with(this._presets)},e.prototype.setTitle=function(t){return this._presets.title=t,this},e.prototype.setConfirmButtonLabel=function(t){return this._presets.confirmButtonLabel=t,this},e.prototype.setCancelButtonLabel=function(t){return this._presets.cancelButtonLabel=t,this},e.prototype.addMessage=function(t){return this._presets.messages.push(t),this},e}(qt),mr=Kt.group({dropdownMenu:{dimensions:{minWidth:50,maxWidth:280},decoration:{background:"@background",borderRadius:4,dropShadow:.8}},"dropdownMenu-item":Kt.create({containerLayout:{axis:"horizontal"},decoration:{padding:{x:16},css:{cursor:"pointer"}}}).addState("hover",{decoration:{background:"@primary",textColor:"@primary.text"}}).addState("focused",{decoration:{background:"@primary",textColor:"@primary.text"}}),"dropdownMenu-label":{},"dropdownMenu-hint":{textStyle:{color:"@text/50%",fontSize:12}}}),gr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.emitMenuItemSelectedEvent=function(t){this.emit(ln,"SelectMenuItem",this,t)},e}(ce.with({style:"dropdownMenu",onArrowDownKeyPress:function(t){var e,n;if(t.source instanceof gr)try{for(var r=s(this.content),o=r.next();!o.done;o=r.next()){var i=o.value;if(i instanceof ce)return void i.requestFocus()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}})),br=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._items=[],e._gravity="end",e}return n(e,t),e.prototype.clear=function(){return this._items.length=0,this},e.prototype.addOption=function(t,e,n,r,o,i,a){function s(){var e=this.getParentComponent(gr);e&&e.emitMenuItemSelectedEvent(t),this.emitAction("CloseModal")}return this._items.push(ce.with({style:"dropdownMenu-item",allowKeyboardFocus:!0,onClick:s,onEnterKeyPress:s,onArrowDownKeyPress:function(){this.requestFocusNext()},onArrowUpKeyPress:function(){this.requestFocusPrevious()}},He.with({text:e,icon:n,iconMargin:8,style:"dropdownMenu-label",textStyle:i}),r?Ke.withWidth(8):void 0,r?je.with({text:r,icon:o,style:"dropdownMenu-hint",textStyle:a}):void 0)),this},e.prototype.addSelectionGroup=function(t,e,n){var r,o;try{for(var i=s(t),a=i.next();!a.done;a=i.next()){var c=a.value;this.addOption(c.key,c.text,c.key===e?"check":"blank",void 0,void 0,n)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return this},e.prototype.addSeparator=function(){return this._items.push(We.with({margin:8})),this},e.prototype.setGravity=function(t){return this._gravity=t,this},e.prototype.setRevealTransition=function(t){return this._revealTransition=t,this},e.prototype.setExitTransition=function(t){return this._exitTransition=t,this},e.prototype.build=function(){return gr.with({position:{gravity:this._gravity},revealTransition:this._revealTransition,exitTransition:this._exitTransition,content:l(l([new Ke(8,8)],c(this._items.map((function(t){return new t}))),!1),[new Ke(8,8)],!1)})},e}($t),wr=function(t){function e(){var e=t.call(this)||this;return e.ConfirmationDialogBuilder=yr,e.MenuBuilder=br,e.icons={blank:'<svg viewBox="0 0 48 48"></svg>',close:'<svg viewBox="0 0 48 48"><path d="M39 12l-3-3l-12 12l-12-12l-3 3l12 12l-12 12l3 3l12-12l12 12l3-3l-12-12l12-12z"/></svg>',expandDown:'<svg viewBox="0 0 48 48"><path d="M32 18l-9 9l-9-9l-3 3l12 12l12-12l-3-3"/></svg>',menu:'<svg viewBox="0 0 48 48"><path d="M6 36h36v-4H6v4zm0-10h36v-4H6v4zm0-14v4h36v-4H6z"/></svg>',check:'<svg viewBox="0 0 48 48"><path d="M18 32L10 24l-3 3L18 38l24-24-3-3z"/></svg>'},e.colors=r(r({},e.colors),{black:"#000000",darkerGray:"#333333",darkGray:"#777777",lightGray:"#dddddd",white:"#ffffff",slate:"#667788",lightSlate:"#c0c8d0",red:"#ee3333",orange:"#ee9922",yellow:"#ddcc33",lime:"#99bb33",green:"#44aa44",turquoise:"#33aaaa",cyan:"#33bbbb",blue:"#3355aa",violet:"#5533aa",purple:"#8833aa",magenta:"#dd4488",primary:"@blue",accent:"@purple",appBackground:"@background"}),e.styles=Kt.group(e.styles,fr,mr,{container:{decoration:{css:{display:"flex",textAlign:"start||left"}}},control:{textStyle:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, "Helvetica Neue", Arial, sans-serif',fontSize:14,fontWeight:"normal",lineHeight:"normal",italic:!1,lineBreakMode:"pre"}},spacer:{dimensions:{grow:1,width:8,height:8},position:{gravity:"stretch"}},separator:{dimensions:{grow:0,shrink:0},position:{gravity:"stretch"}},label:{dimensions:{maxWidth:"100%"},decoration:{css:{margin:"calc(1rem - .5em) 0"}},textStyle:{lineBreakMode:"ellipsis"}},label_close:{decoration:{css:{margin:"0"}}},heading1:{textStyle:{fontSize:60,fontWeight:200,letterSpacing:-.5}},heading2:{textStyle:{fontSize:24}},heading3:{textStyle:{fontSize:18,bold:!0}},paragraph:{textStyle:{lineBreakMode:"pre-wrap",lineHeight:1.4},decoration:{css:{cursor:"text"}}},button:Kt.create({dimensions:{minWidth:96},textStyle:{align:"center",lineBreakMode:"ellipsis"},decoration:{borderThickness:0,background:"@controlBase",textColor:"@primary",borderRadius:4,padding:{y:8,x:12},css:{cursor:"pointer",transition:"all .2s ease"}}}).addState("pressed",{decoration:{background:"@primary",textColor:"@primary:text"}}).addState("hover",{decoration:{background:"@primary",textColor:"@primary:text"}}).addState("disabled",{decoration:{borderThickness:0,background:"@controlBase",textColor:"@primary",css:{opacity:".5",cursor:"inherit"}}}),button_primary:Kt.create({decoration:{background:"@primary",textColor:"@primary:text",borderThickness:1,borderColor:"@primary"}}).addState("hover",{decoration:{background:"@primary^+30%",borderThickness:1,borderColor:"@primary^+30%"}}),button_borderless:Kt.create({dimensions:{minWidth:16,minHeight:16},decoration:{background:"transparent",borderThickness:1,borderColor:"transparent",padding:{y:6,x:12}}}).addState("hover",{decoration:{background:"@controlBase^-50%/30%",textColor:"@primary"}}),button_outline:Kt.create({decoration:{borderThickness:1,borderColor:"@primary"}}),button_link:Kt.create({dimensions:{minWidth:16,minHeight:16},textStyle:{align:"start||left"},decoration:{background:"transparent"}}).addState("hover",{textStyle:{underline:!0},decoration:{background:"transparent",textColor:"@primary"}}).addState("disabled",{decoration:{background:"transparent",textColor:"@primary"}}),button_large:Kt.create({dimensions:{minWidth:128},textStyle:{fontWeight:200,fontSize:16},decoration:{background:"@primary",textColor:"@primary:text",borderRadius:32,padding:{y:12,x:16}}}),button_small:Kt.create({dimensions:{minWidth:64},textStyle:{fontSize:12},decoration:{borderThickness:1,borderColor:"@controlBase^-20%",padding:{y:4,x:8}}}),button_icon:Kt.create({dimensions:{minWidth:32,minHeight:32},position:{gravity:"center"},decoration:{background:"transparent",borderRadius:"50%",padding:0}}).addState("hover",{decoration:{background:"@decoration^-50%/30%",textColor:"@primary"}}),textfield:Kt.create({decoration:{background:"@white",textColor:"@white:text",borderColor:"@controlBase^-20%",borderThickness:1,borderRadius:4,padding:8,css:{cursor:"text"}},textStyle:{lineBreakMode:"pre-wrap"}}),textfield_borderless:Kt.create({decoration:{background:"transparent",borderThickness:0,borderRadius:0,padding:0}}).addState("focused",{decoration:{css:{boxShadow:"none"}}}),toggle:{decoration:{textColor:"@text",cssClassNames:["UI__CustomToggle"]}},image:{position:{gravity:"center"}}}),e}return n(e,t),e.prototype.setFocusOutline=function(t,e,n){void 0===t&&(t=2),void 0===e&&(e=0),void 0===n&&(n="@primary/50%");var r="0 0 "+Fn(e)+" "+Fn(t)+" "+Yt.replaceColor(n);return Dn({".UI[tabindex]:focus":{boxShadow:r},".UI.ShowFocusWithin[tabindex]:focus-within":{boxShadow:r},".UI>[tabindex]:focus+label>control":{boxShadow:r}}),this},e}(Yt);function _r(t,e,n,r){var o,i="";e&&(i="opacity "+e),n&&(i+=(i?", ":"")+"transform "+n),Dn(((o={})["[data-transition-reveal="+t+"][data-transition-t=revealing]"]={opacity:r[0][0],transform:r[0][1]},o["[data-transition-reveal="+t+"][data-transition-t=revealed]"]={opacity:r[1][0],transform:r[1][1],transition:i},o["[data-transition-exit="+t+"][data-transition-t=exiting]"]={opacity:(r[2]||r[0])[0],transform:(r[2]||r[0])[1],transition:i},o))}!function(){Dn({".UI":{margin:"0",padding:"0",border:"0 solid transparent",outline:"0",cursor:"inherit",boxSizing:"border-box",textOverflow:"ellipsis",textDecoration:"none"},".UI[hidden]":{display:"none !important"},".App__FixedRoot":{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",flexDirection:"column",cursor:"default",overflow:"hidden"},".App__ModalShader":{zIndex:"1000",position:"fixed",top:"0",left:"0",bottom:"0",right:"0",outline:"0",overflow:"auto",display:"flex",flexDirection:"column",justifyContent:"stretch",alignContent:"stretch",transition:"background-color .2s ease-in-out",background:"transparent"},".App__ModalWrapper":{flex:"1 0 auto",display:"flex"},".App__ModalWrapper>.UI":{zIndex:"10000",overflow:"hidden"},".UIRender__Separator--line":{flex:"0 0 auto",margin:"0",padding:"0",border:"0",borderTopStyle:"solid",borderWidth:"1px",alignSelf:"stretch"},".UIRender__Separator--line-vertical":{borderTopStyle:"none",borderLeftStyle:"solid",borderWidth:"1px"},".UIRender__Separator--spacer":{flex:"0 0 auto",width:"1px",height:"1px",alignSelf:"center"},".UI__CustomToggle":{lineHeight:"1.5rem",position:"relative",padding:".25rem 0"},".UI__CustomToggle>input":{position:"absolute",top:".25rem",left:"0",width:"1rem",height:"1rem",margin:"0",padding:"0",border:"0",opacity:"0"},".UI__CustomToggle>input+label":{display:"inline-block",paddingLeft:"1rem"},".UI__CustomToggle>input[disabled]+label":{opacity:".5"},".UI__CustomToggle>input:not([disabled])+label":{cursor:"pointer"},".UI__CustomToggle>input+label>control":{content:"''",position:"absolute",top:".25rem",left:"0",width:".875rem",height:".875rem",background:"#fff",border:"1px solid #aaa",borderRadius:".25rem"},".UI__CustomToggle>input:checked+label>control":{borderColor:"#666",background:"#666"},".UI__CustomToggle>input:checked+label>control::after":{content:"''",boxSizing:"border-box",display:"block",position:"absolute",top:"0",left:".25rem",height:".75rem",width:".375rem",transform:"rotate(45deg)",borderBottom:".125rem solid #fff",borderRight:".125rem solid #fff"},"a.UI":{display:"flex",flexDirection:"column",justifyContent:"center"}});var t=[1],e=[0,"translateY(-50%)"],n=[0,"translateY(50%)"],r=[0,"translateX(-50%)"],o=[0,"translateX(50%)"];_r("fade",".5s ease-in-out","",[[0],t]),_r("fade-fast",".2s ease-in-out","",[[0],t]),_r("down",".5s ease-in-out",".5s ease",[e,t,n]),_r("down-fast",".2s ease-in-out",".15s ease",[e,t,n]),_r("up",".5s ease-in-out",".5s ease",[n,t,e]),_r("up-fast",".2s ease-in-out",".15s ease",[n,t,e]),_r("left",".5s ease-in-out",".5s ease",[o,t,r]),_r("left-fast",".2s ease-in-out",".15s ease",[o,t,r]),_r("right",".5s ease-in-out",".5s ease",[r,t,o]),_r("right-fast",".2s ease-in-out",".15s ease",[r,t,o])}(),pr=new wr,Yt.current=pr,pr.setFocusOutline();var Cr,xr,Sr=new x("Rendered").freeze(),Er={click:"Click",dblclick:"DoubleClick",contextmenu:"ContextMenu",mouseup:"MouseUp",mousedown:"MouseDown",mouseenter:"MouseEnter",mouseleave:"MouseLeave",touchstart:"TouchStart",touchend:"TouchEnd",keydown:"KeyDown",keyup:"KeyUp",keypress:"KeyPress",focusin:"FocusIn",focusout:"FocusOut",change:"Change",input:"Input",copy:"Copy",cut:"Cut",paste:"Paste",submit:"Submit"},Or={Enter:"EnterKey",Spacebar:"Spacebar"," ":"Spacebar",Backspace:"BackspaceKey",Delete:"DeleteKey",Del:"DeleteKey",Escape:"EscapeKey",Esc:"EscapeKey",ArrowLeft:"ArrowLeftKey",Left:"ArrowLeftKey",ArrowUp:"ArrowUpKey",Up:"ArrowUpKey",ArrowRight:"ArrowRightKey",Right:"ArrowRightKey",ArrowDown:"ArrowDownKey",Down:"ArrowDownKey"},Ir={ArrowLeftKey:!0,ArrowRightKey:!0,ArrowUpKey:!0,ArrowDownKey:!0},Rr=function(){function e(t){this.DOM_EMIT=this.emitComponentEvent,this.component=t}return e.prototype.afterRender=function(t){this.component.managedState&&this.component.emit(Sr);var e=this._renderedElement;e&&"revealing"===e.dataset.transitionT&&setTimeout((function(){"revealing"===e.dataset.transitionT&&(e.dataset.transitionT="revealed")}),0)},e.prototype.emitComponentEvent=function(t,e){var n=this;if("click"!==t.type&&"mousedown"!==t.type&&"mouseup"!==t.type||!(or.$touchData.last>Date.now()-1e3)){"submit"===t.type&&t.preventDefault();var r=e||function(t){return Er[t.type]}(t);if(this._emitUIEvent(r,t),"TouchStart"===r&&(or.$touchData.last=Date.now(),Cr=this,xr||window.addEventListener("touchmove",xr=function(){window.removeEventListener("touchmove",xr),xr=void 0,Cr=void 0}),this._emitUIEvent("MouseDown",t)),"TouchEnd"===r&&(or.$touchData.last=Date.now(),Cr===this&&(this._emitUIEvent("MouseUp",t),this._emitUIEvent("Click",t))),"KeyDown"===r){var o=t.key,i=o?Or[o]:"",a=!1;if("EnterKey"===i){var s=t.target,c=String(s.nodeName).toLowerCase();a="button"===c||"textarea"===c}!Ir[i]||"list"!==this.component.accessibleRole&&"listitem"!==this.component.accessibleRole||t.preventDefault(),!a&&i&&setTimeout((function(){n._emitUIEvent(i+"Press",t)}),0)}t.stopPropagation()}},e.prototype._emitUIEvent=function(t,e){this.component&&this.component.managedState&&this.component.emit(Jt,t,this.component,void 0,e)},e.prototype.handleRenderEvent=function(e){if(e.source===this.component){var n=!this._renderedElement,r=this._renderedElement||(this._renderedElement=this.createElement());r[Xn]=this;var o=this.component;o.accessibleRole&&r.setAttribute("role",o.accessibleRole),o.accessibleLabel&&r.setAttribute("aria-label",o.accessibleLabel),!hr.transitionsDisabled&&o instanceof ce&&(n&&o.revealTransition&&(r.dataset.transitionReveal=o.revealTransition,r.dataset.transitionT="revealing"),o.exitTransition&&(r.dataset.transitionExit=o.exitTransition,r.dataset.transitionT="revealing"));var i=o.lastRenderOutput&&o.lastRenderOutput.element===r?o.lastRenderOutput:o.lastRenderOutput=new t.UIRenderContext.Output(o,r);this._lastRenderCallback=e.renderCallback(i,this.afterRender.bind(this))}},e.prototype.handleFocusRequestEvent=function(e){if(e.source===this.component&&this.component.lastRenderOutput){var n=this.component.lastRenderOutput.element;if(e.direction===t.UIFocusRequestType.SELF)return void n.focus();var r=this.component.getParentComponent(t.UIComponent),o=r&&r instanceof t.UIComponent&&r.lastRenderOutput&&r.lastRenderOutput.element;if(!o)return;var i=o.querySelectorAll("[tabIndex]");if(e.direction===t.UIFocusRequestType.REVERSE){for(var a=i.length-1;a>=0;a--)if((c=n.compareDocumentPosition(i[a]))&Node.DOCUMENT_POSITION_PRECEDING){for(var s=0;s<a&&!((c=i[s].compareDocumentPosition(i[a]))&Node.DOCUMENT_POSITION_CONTAINED_BY);)s++;return void i[s].focus()}}else for(a=0;a<i.length;a++){var c;if((c=n.compareDocumentPosition(i[a]))&Node.DOCUMENT_POSITION_FOLLOWING&&!(c&Node.DOCUMENT_POSITION_CONTAINED_BY))return void i[a].focus()}}},e.prototype.updateElement=function(e){if(this._renderedElement=e,this._lastRenderCallback){var n=new t.UIRenderContext.Output(this.component,e);this.component.lastRenderOutput=n,this._lastRenderCallback=this._lastRenderCallback.call(void 0,n,this.afterRender.bind(this))}},e.prototype.scheduleStyleUpdate=function(t){var e=this;this._addClass=t,this._renderedElement&&!this._sched&&(this._sched=!0,Promise.resolve().then((function(){e._sched=!1,e._renderedElement&&jn(e.component,e._renderedElement,!1,e._addClass)})))},e.prototype.getElement=function(){return this._renderedElement},e.prototype.isRendered=function(){return!!this._lastRenderCallback&&!!this._renderedElement},e}(),kr=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n.DOM_CONTROL_EMIT=n.DOM_EMIT,n}return n(e,t),e.prototype.createElement=function(){var t=document.createElement(this.component.headingLevel?"h"+this.component.headingLevel:"span");return this.component.isKeyboardFocusable()?t.tabIndex=0:this.component.isFocusable()&&(t.tabIndex=-1),jn(this.component,t,!0),Ar(t,{text:this.component.text,htmlFormat:this.component.htmlFormat,icon:this.component.icon,iconColor:this.component.iconColor||this.component.textStyle.color,iconSize:this.component.iconSize,iconMargin:this.component.iconMargin,iconAfter:this.component.iconAfter}),t},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.onUIFocusRequestAsync=function(t){this.handleFocusRequestEvent(t)},e.prototype.setText=function(){var t=this.getElement();t&&Ar(t,{text:this.component.text,htmlFormat:this.component.htmlFormat,icon:this.component.icon,iconColor:this.component.iconColor||this.component.textStyle.color,iconSize:this.component.iconSize,iconMargin:this.component.iconMargin,iconAfter:this.component.iconAfter})},e.prototype.onHeadingLevelChange=function(){this.isRendered()&&this.updateElement(this.createElement())},e.prototype.updateStyle=function(){this.scheduleStyleUpdate()},o([N("text","htmlFormat","icon","iconColor","iconSize","iconMargin","iconAfter")],e.prototype,"setText",null),o([N("hidden","style","shrinkwrap","disabled","textStyle","decoration","dimensions","position")],e.prototype,"updateStyle",null),e}(Rr);function Ar(t,e){var n=null==e.text?"":String(e.text);if(e.icon){var r=document.createElement("span");r.style.display="flex",r.style.flexDirection="row",r.style.alignItems="center",r.style.justifyContent="space-around",r.style.textOverflow="inherit";try{var o=function(t){var e=Fn(t.iconSize,"1rem"),n=t.iconColor?Yt.replaceColor(t.iconColor):"",r=t.icon+":"+e+":"+n;if(Tr[r])return Tr[r].cloneNode(!0);var o,i=document.createElement("div");i.innerHTML=Yt.current.icons[t.icon]||t.icon;var a=i.firstChild;if(a||(a=document.createTextNode("")),"svg"===String(a.nodeName).toLowerCase())(o=a).hasAttribute("stroke")?o.style.stroke=n||"currentColor":o.style.fill=n||"currentColor",o.style.display="inline-block",o.style.width=e,o.style.height="auto";else{var s=document.createElement("icon");s.style.display="inline-block",s.appendChild(a),t.iconSize&&(s.style.fontSize=e),n&&(s.style.color=n),o=s}return o.style.flex="0 0 "+e,o.style.width=e,Tr[r]=o.cloneNode(!0),o}(e);o.style.order=e.iconAfter?"2":"0",r.appendChild(o)}catch(t){Mr[e.icon]||(Mr[e.icon]=!0,at(t))}if(n){var i=Fn(e.iconMargin,".5rem"),a=document.createElement("span");a.style.flex="0 0 "+i,a.style.width=i,a.style.order="1",r.appendChild(a);var s=document.createElement("span");s.style.flex="1 0 0",s.style.order=e.iconAfter?"0":"2",s.style.textOverflow="inherit",s.style.overflow="hidden",e.htmlFormat?s.innerHTML=n:s.textContent=n,r.appendChild(s),r.style.justifyContent="start"}t.innerHTML="",t.appendChild(r)}else e.htmlFormat?t.innerHTML=n:t.textContent=n}var Mr={},Tr={};je.addObserver(kr);var Pr=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n.DOM_CONTROL_EMIT=n.DOM_EMIT,n}return n(e,t),e.prototype.createElement=function(){var t=this,e="link"===this.component.accessibleRole,n=document.createElement(e?"a":"button");return e||(n.type="button"),n.tabIndex=this.component.isKeyboardFocusable()?0:-1,jn(this.component,n,!0),Ar(n,{text:this.component.label,icon:this.component.icon,iconColor:this.component.iconColor,iconSize:this.component.iconSize,iconMargin:this.component.iconMargin,iconAfter:this.component.iconAfter}),(this.component.navigateTo||this.component.navigationTarget)&&(n.href=Ur(this.component,String(this.component.getNavigationTarget()))),this.component.disabled&&n.setAttribute("disabled","disabled"),n.addEventListener("click",(function(e){(t.component.navigateTo||t.component.navigationTarget)&&(e.ctrlKey||e.altKey||e.metaKey?(e.stopPropagation(),e.stopImmediatePropagation()):(e.preventDefault(),t.component.disabled||t.component.emitAction("Navigate")))})),n},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.onUIFocusRequestAsync=function(t){this.handleFocusRequestEvent(t)},e.prototype.setText=function(){var t=this.getElement();t&&Ar(t,{text:this.component.label,icon:this.component.icon,iconColor:this.component.iconColor,iconSize:this.component.iconSize,iconMargin:this.component.iconMargin,iconAfter:this.component.iconAfter})},e.prototype.setHref=function(){var t=this.getElement();t&&(t.href=Ur(this.component,String(this.component.getNavigationTarget())))},e.prototype.onDisabledChange=function(){var t=this.getElement();t&&(this.component.disabled?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled"))},e.prototype.onSelect=function(){var t=this.getElement();t&&(t.dataset.selected="selected")},e.prototype.onDeselect=function(){var t=this.getElement();t&&delete t.dataset.selected},e.prototype.updateStyle=function(){this.scheduleStyleUpdate()},o([N("label","icon","iconColor","iconSize","iconMargin","iconAfter")],e.prototype,"setText",null),o([N("navigateTo","navigationTarget")],e.prototype,"setHref",null),o([N("hidden","style","shrinkwrap","textStyle","decoration","dimensions","position")],e.prototype,"updateStyle",null),e}(Rr);function Ur(t,e){var n=t.getParentComponent(hr),r=n&&n.activationContext;return r&&r.getPathHref&&r.getPathHref(e)||""}Re.addObserver(Pr);var Br=function(){function t(t){this.component=t}return t.prototype.updateStyle=function(){var t,e=this;if(!this._sched){var n=null===(t=this.component.lastRenderOutput)||void 0===t?void 0:t.element;n&&(this._sched=!0,Promise.resolve().then((function(){e._sched=!1,jn(e.component,n)})))}},o([N("css","decoration","margin","background","textDirection","textColor","borderThickness","borderColor","borderStyle","borderRadius","dropShadow","opacity")],t.prototype,"updateStyle",null),t}();ce.addObserver(Br);var Dr,jr=16,Fr=function(){function e(t,e){this._content={},this.element=t,e&&(this.separator=r({},e))}return e.prototype.setAsyncCreate=function(t){this._asyncChildren=!!t},e.prototype.setAnimationTimeMs=function(t){this._animationTimeMs=t},e.prototype.setAnimationSpeed=function(t){this._animationSpeed=t,t>0?this._animationTimeMs||(this._animationTimeMs=5e3):this._animationTimeMs=0},e.prototype.stop=function(){this._stopped=!0},e.prototype.update=function(t){var e=this;if(this.element)if(this._updatePending)this._updatePending=t;else{this._updatePending=t;var n=or.scheduleRender((function(){var r,o;if(!e._stopped&&e._updatePending){t=e._updatePending,e._updatePending=void 0,e._rendered||(e._rendered=!0,e.element.innerHTML="");var i=!!e._animationTimeMs;if(i){e._animatePositions={};for(var a=e._animatePositions,c=e.element.firstChild;c;)c.getBoundingClientRect&&!c.dataset.uiRemoved&&(a[c.dataset.uiAnimateId||(c.dataset.uiAnimateId="anim_"+jr++)]=c.getBoundingClientRect()),c=c.nextSibling}var l=[],u={},d=function(t){var r=t.managedId,o=e._content[r]||e._addChildComponent(t,n);u[r]=o,l.push(o.element),o.element&&o.element.parentNode&&o.element.parentNode!==e.element&&(o.detach&&o.detach(),o.element.parentNode&&o.element.parentNode.removeChild(o.element)),o.detach=function(){if(o.element&&o.element.parentNode===e.element){var n=e._content[r]=e._getPlaceholder(t);o.element.parentNode.replaceChild(n.element,o.element)}}};try{for(var h=s(t),p=h.next();!p.done;p=h.next())d(p.value)}catch(t){r={error:t}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}var f={};for(var v in e._content)u[v]||(f[v]=e._content[v]);for(var v in e._content=u,f){var y=f[v].element;if(y.parentNode===e.element){var m=void 0;e.separator&&((m=y.previousSibling)&&!m.dataset.uiRemoved||(m=y.nextSibling)),sr(y),m&&sr(m)}}for(var g=e.element.lastChild;g&&g.dataset&&g.dataset.uiRemoved;)g=g.previousSibling;for(var b=g&&g.nextSibling,w=l.length-1;w>=0;w--){if((!(c=l[w]).parentNode||c.nextSibling!==b)&&(m=e.separator&&(c.previousSibling||e._makeSeparator()),e.element.insertBefore(c,b),m)){var _=c.previousSibling;!_||_.dataset&&_.dataset.uiRemoved?c.nextSibling&&e.element.insertBefore(m,c.nextSibling):e.element.insertBefore(m,c)}for(b=c,e.separator&&c.previousSibling&&!c.previousSibling.dataset.uiRemoved&&(b=c.previousSibling);b.previousSibling&&b.previousSibling.dataset&&b.previousSibling.dataset.uiRemoved;)b=b.previousSibling}i&&e._animateElements()}}))}},e.prototype._makeSeparator=function(){if(!this.separator)throw Error;var t;if(this.separator.lineThickness){var e=Fn(this.separator.lineThickness,""),n=Fn(this.separator.lineMargin,"");(t=document.createElement("hr")).className="UIRender__Separator--line"+(this.separator.vertical?" UIRender__Separator--line-vertical":""),t.style.borderWidth=e,t.style.margin=n?this.separator.vertical?"0 "+n:n+" 0":"",t.style.borderColor=Yt.replaceColor(this.separator.lineColor||"@separator")}else e=Fn(this.separator.space,"0"),(t=document.createElement("spacer")).className="UIRender__Separator--spacer",!1!==this.separator.vertical&&(t.style.width=e),this.separator.vertical||(t.style.height=e);return t},e.prototype._addChildComponent=function(t,e){var n,r=this,o=t.managedId,i=!1,a=function(s,c){return n||!s||i?or.scheduleRender((function(){if(r._stopped||!t.managedState)return s;if(n&&n!==s&&n.element.parentNode===r.element){if(s&&s.element){if(s.element.parentNode){var e=r._getPlaceholder(t),i=s.element;i.parentNode.replaceChild(e.element,i),s.element=e.element,e.element=i,s=e}}else s=r._getPlaceholder(t);r.element.replaceChild(s.element,n.element),r._content[o]=n=s}return s})).then(c).catch(at):(r._content[o]=n=s,e.then((function(){return c&&c(s)})).catch(at)),a};return this._asyncChildren?or.scheduleRender((function(){t.render(a)}),!0):t.render(a),n||(n=this._content[o]=this._getPlaceholder(t)),i=!0,n},e.prototype._getPlaceholder=function(e){var n=document.createElement("placeholder");return n.id="placeholder:"+e.managedId,n.hidden=!0,new t.UIRenderContext.Output(e,n)},e.prototype._animateElements=function(t){var e=this;if(void 0===t&&(t=!0),this._animatePositions){for(var n=this._animationTimeMs,r=this._animationSpeed?this._animationSpeed*(window.innerHeight+window.innerWidth)/2e3:1,o=[],i=[],a=[],c=[],l=[],u=this.element.firstChild,d=function(){if(u.dataset)if(u.dataset.uiAnimateId&&!u.dataset.uiRemoved)u.style.transition="transform 0s",u.style.transform="";else if(u.dataset.uiRemoved){var t=u;if(u.dataset.transitionExit){var e=u.getBoundingClientRect();c.push((function(){t.style.position="fixed",t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.width=e.width+"px",t.style.height=e.height+"px"}))}else c.push((function(){t.style.display="none"})),l.push((function(){t.style.display=""}))}u=u.nextSibling};u;)d();for(c.forEach((function(t){return t()})),u=this.element.firstChild;u;){if(!u.dataset.uiRemoved)if(u.dataset&&u.dataset.uiAnimateId&&this._animatePositions[u.dataset.uiAnimateId]){var h=u.getBoundingClientRect(),p=this._animatePositions[u.dataset.uiAnimateId],f=Math.floor(p.left-h.left),v=Math.floor(p.top-h.top);o.push(u);var y=Math.floor(Math.min(n,Math.abs(f+v)/r));i.push(y),u.style.transform="translateX("+f+"px) translateY("+v+"px)"}else if(t&&u.getBoundingClientRect){var m=u.getBoundingClientRect();(m.height<1||m.width<1)&&a.push(u)}u=u.nextSibling}setTimeout((function(){for(var t,n,r=o.length-1;r>=0;r--)o[r].style.transition="transform "+i[r]+"ms ease-in-out",o[r].style.transform="";try{for(var c=s(a),l=c.next();!l.done;l=c.next()){var u=l.value.getBoundingClientRect();if(u.width>=1&&u.height>=1)return void setTimeout((function(){e._animateElements(!1)}),0)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}setTimeout((function(){var t,e;try{for(var n=s(o),r=n.next();!r.done;r=n.next()){var i=r.value;i.style.transform="",i.style.transition=""}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}}),100)}),0),l.forEach((function(t){return t()}))}},e}(),Lr={},Nr=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,e instanceof ce&&(n.DOM_CELL_EMIT=n.DOM_EMIT),n}return n(e,t),e.prototype.createElement=function(){var t=document.createElement("form"===this.component.accessibleRole?"form":"container");return this.component.isKeyboardFocusable()?t.tabIndex=0:this.component.isFocusable()&&(t.tabIndex=-1),jn(this.component,t,!0),t},e.prototype.afterRender=function(){if(t.prototype.afterRender.call(this),this.component.managedState&&this.component instanceof Se){var e=this.component;if(this.isRendered()){var n,r,o,i,a=this.getElement(),s=0,c=0,l=0,u=Date.now(),d=!1,h=function(){var t=(Date.now()-u)/1e3,p=a.scrollTop-s,f=Math.abs(a.scrollLeft)-Math.abs(c);p<0&&(r=!(n=!0)),p>0&&(r=!(n=!1)),f<0&&(i=!(o=!0)),f>0&&(i=!(o=!1)),s=a.scrollTop,c=a.scrollLeft,u=Date.now();var v=function(l){var u=new xe(l,e);return u.yOffset=s,u.xOffset=c,c=Math.abs(c),u.scrolledDown=r,u.scrolledUp=n,u.scrolledHorizontalStart=o,u.scrolledHorizontalEnd=i,u.atTop=s<=e.topThreshold,u.atHorizontalStart=c<=e.horizontalThreshold,u.atBottom=s+a.clientHeight>=a.scrollHeight-e.bottomThreshold,u.atHorizontalEnd=c+a.clientWidth>=a.scrollWidth-e.horizontalThreshold,u.verticalVelocity=Math.abs(p/(window.innerHeight||1))/(t||.1),u.horizontalVelocity=Math.abs(f/(window.innerWidth||1))/(t||.1),u.freeze()};e.managedState&&(e.emit(v("Scroll")),l<u-200?(e.emit(v("ScrollEnd")),d=!1):(setTimeout(h,250),d=!0))};a.onscroll=function(t){l=Date.now(),d||h()}}}},e.prototype.onUIRender=function(t){this.handleRenderEvent(t),this._separator=this._getSeparator(),this._refreshUpdater()},e.prototype.onUIFocusRequestAsync=function(t){this.handleFocusRequestEvent(t)},e.prototype.onFocusIn=function(t){if(t.source!==this.component&&this.component.isKeyboardFocusable()){var e=this.getElement();e&&(e.tabIndex=-1),this.lastFocused=t.source}},e.prototype.onFocusOut=function(t){if(t.source!==this.component&&this.component.isKeyboardFocusable()){var e=this.getElement();e&&(e.tabIndex=0),this.lastFocused=void 0}},e.prototype.onUIScrollTarget=function(t){var e=this.getElement();e&&("top"===t.target&&e.scrollTo({top:0}),"bottom"===t.target&&e.scrollTo({top:e.scrollHeight}),void 0!==t.yOffset&&e.scrollTo({top:t.yOffset}),void 0!==t.xOffset&&e.scrollTo({left:t.xOffset}))},e.prototype.onContentChangeAsync=function(){return i(this,void 0,void 0,(function(){var t;return a(this,(function(e){return this.component.content?(this._updater&&this._updater.update(this.component.content),this.component.isKeyboardFocusable()&&this.lastFocused&&!this.component.content.includes(this.lastFocused)&&((t=this.getElement())&&(t.tabIndex=0),this.lastFocused=void 0),[2]):(this._updater&&(this._updater.stop(),this._updater=void 0),[2])}))}))},e.prototype.onAsyncContentRenderingChange=function(){this._updater&&this._updater.setAsyncCreate(this.component.asyncContentRendering)},e.prototype.onAnimatedContentRenderingDurationChange=function(){this._updater&&this._updater.setAnimationTimeMs(this.component.animatedContentRenderingDuration||0)},e.prototype.onAnimatedContentRenderingVelocityChange=function(){this._updater&&this._updater.setAnimationSpeed(this.component.animatedContentRenderingVelocity||0)},e.prototype.updateStyle=function(){this.scheduleStyleUpdate();var t=this._getSeparator();this._separator!==t&&(this._separator=t,this._refreshUpdater())},e.prototype.onScrollEnd=function(t){var e,n,r,o,i,a,c,l,u,d,h,p,f=this.getElement();if(f&&this.component instanceof Se){for(var v=this.component,y=f.getBoundingClientRect(),m=document.activeElement,g=[],b=void 0,w=f.firstChild;w;)w.getBoundingClientRect&&(K=w.getBoundingClientRect()).bottom>y.top&&K.top<y.bottom&&(w===m&&(b=K),g.push(K)),w=w.nextSibling;if("ScrollEnd"===t.name||"ScrollSnapUp"===t.name||"ScrollSnapDown"===t.name){var _=void 0,C=y.height,x="ScrollEnd"===t.name?0:"ScrollSnapUp"===t.name?.25:-.25;switch(v.verticalSnap){case"start":try{for(var S=s(g),E=S.next();!E.done;E=S.next()){var O=(K=E.value).top+x*K.height,I=Math.abs(O-y.top);K===b&&(I-=K.height/2),I<C&&(_=K.top,C=I)}}catch(t){e={error:t}}finally{try{E&&!E.done&&(n=S.return)&&n.call(S)}finally{if(e)throw e.error}}break;case"end":try{for(var R=s(g),k=R.next();!k.done;k=R.next()){var A=(K=k.value).bottom+x*K.height;I=Math.abs(A-y.bottom),K===b&&(I-=K.height/2),I<C&&(_=K.bottom-y.height,C=I)}}catch(t){r={error:t}}finally{try{k&&!k.done&&(o=R.return)&&o.call(R)}finally{if(r)throw r.error}}break;case"center":var M=y.top+y.height/2;try{for(var T=s(g),P=T.next();!P.done;P=T.next()){var U=(K=P.value).top+K.height/2+x*K.height;I=Math.abs(U-M),K===b&&(I-=K.height/2),I<C&&(_=U-y.height/2,C=I)}}catch(t){i={error:t}}finally{try{P&&!P.done&&(a=T.return)&&a.call(T)}finally{if(i)throw i.error}}}if(null!=_){var B=f.scrollTop+(_-y.top);f.scrollTo({behavior:"smooth",top:B})}}if("ScrollEnd"===t.name||"ScrollSnapStart"===t.name||"ScrollSnapEnd"===t.name){var D=void 0;switch(C=y.width,x="ScrollEnd"===t.name?0:"ScrollSnapStart"===t.name?.25:-.25,v.horizontalSnap){case"start":try{for(var j=s(g),F=j.next();!F.done;F=j.next()){var L=(K=F.value).left+x*K.width;I=Math.abs(L-y.left),K===b&&(I-=K.width/2),I<C&&(D=K.left,C=I)}}catch(t){c={error:t}}finally{try{F&&!F.done&&(l=j.return)&&l.call(j)}finally{if(c)throw c.error}}break;case"end":try{for(var N=s(g),V=N.next();!V.done;V=N.next()){var z=(K=V.value).right+x*K.width;I=Math.abs(z-y.right),K===b&&(I-=K.width/2),I<C&&(D=K.right-y.width,C=I)}}catch(t){u={error:t}}finally{try{V&&!V.done&&(d=N.return)&&d.call(N)}finally{if(u)throw u.error}}break;case"center":M=y.left+y.width/2;try{for(var H=s(g),W=H.next();!W.done;W=H.next()){var K;U=(K=W.value).left+K.width/2+x*K.width,I=Math.abs(U-M),K===b&&(I-=K.width/2),I<C&&(D=U-y.width/2,C=I)}}catch(t){h={error:t}}finally{try{W&&!W.done&&(p=H.return)&&p.call(H)}finally{if(h)throw h.error}}}null!=D&&(L=f.scrollLeft+(D-y.left),f.scrollTo({behavior:"smooth",left:L}))}}},e.prototype.onScrollSnapUp=function(t){"start"===this.component.verticalSnap&&this.onScrollEnd(t)},e.prototype.onScrollSnapDown=function(t){"end"===this.component.verticalSnap&&this.onScrollEnd(t)},e.prototype.onScrollSnapStart=function(t){"start"===this.component.horizontalSnap&&this.onScrollEnd(t)},e.prototype.onScrollSnapEnd=function(t){"end"===this.component.horizontalSnap&&this.onScrollEnd(t)},e.prototype.onSelect=function(t){if(t.source===this.component){var e=this.getElement();e&&(e.dataset.selected="selected")}},e.prototype.onDeselect=function(t){if(t.source===this.component){var e=this.getElement();e&&delete e.dataset.selected}},e.prototype._refreshUpdater=function(){var t=this.getElement();t&&(this._updater&&this._updater.stop(),this._updater=new Fr(t,this._separator),this.component.asyncContentRendering&&this._updater.setAsyncCreate(!0),this.component.animatedContentRenderingDuration>=0&&this._updater.setAnimationTimeMs(this.component.animatedContentRenderingDuration),this.component.animatedContentRenderingVelocity>=0&&this._updater.setAnimationSpeed(this.component.animatedContentRenderingVelocity),this._updater.update(this.component.content))},e.prototype._getSeparator=function(){if(this.component.layout){var t,e=this.component.layout.separator;if(!e&&"function"==typeof(t=this.component).hasComponentSpacing&&t.hasComponentSpacing()){var n=this.component.spacing,r=this.component.layout.axis,o=n+"|"+r;e=Lr[o]||(Lr[o]={space:n,vertical:"horizontal"===r})}return e}},o([N("hidden","style","layout","spacing","dimensions","position","padding","height","width","verticalScrollEnabled","horizontalScrollEnabled")],e.prototype,"updateStyle",null),e}(Rr);oe.addEventHandler((function(e){if("DragContainer"===e.name){if(Dr>Date.now()-40||this.getParentComponent()instanceof t.UIComponent)return;var n,r=this.lastRenderOutput&&this.lastRenderOutput.element;if(!r)return;for(;e&&!n;)if(e instanceof Jt&&e.event)n=e.event;else{if(!(e instanceof St&&e.inner))break;e=e.inner}if(!n||n.button)return;var o=n.touches&&n.touches[0].screenX||n.screenX,i=n.touches&&n.touches[0].screenY||n.screenY;if(void 0===o||void 0===i)return;Dr=Date.now();var a=!1,s=r.getBoundingClientRect(),c=function(t){var e=t.touches&&t.touches[0].screenX||t.screenX,n=t.touches&&t.touches[0].screenY||t.screenY,c=e-o,l=n-i;if(!a){if(Math.abs(c)<2&&Math.abs(l)<2)return;a=!0;var u=r.parentNode;u&&"App__ModalWrapper"===u.className&&(u.style.top="0",u.style.left="0"),r.style.position="absolute",r.style.bottom="auto",r.style.right="auto"}t.preventDefault(),t.stopPropagation();var d=Math.max(0,s.top+l);r.style.top=Math.min(d,window.innerHeight-40)+"px";var h=Math.max(40-r.clientWidth,s.left+c);r.style.left=Math.min(h,window.innerWidth-64)+"px"},l=function(t){a&&(t.preventDefault(),t.stopPropagation()),Dr=0,or.scheduleRender((function(){window.removeEventListener("touchmove",c,{passive:!1,capture:!0}),window.removeEventListener("mousemove",c,!0),window.removeEventListener("touchend",l,!0),window.removeEventListener("mouseup",l,!0),window.removeEventListener("click",l,!0)}))};window.addEventListener("touchmove",c,{passive:!1,capture:!0}),window.addEventListener("mousemove",c,!0),window.addEventListener("touchend",l,!0),window.addEventListener("mouseup",l,!0),window.addEventListener("click",l,!0)}})),oe.addObserver(Nr);var Vr=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n.DOM_CONTROL_EMIT=n.DOM_EMIT,n}return n(e,t),e.prototype.createElement=function(){var t=this,e=document.createElement("img");return e.onerror=function(e){t.component.managedState&&t.component.emit(Jt,"LoadError",t.component,void 0,e)},this.component.isKeyboardFocusable()?e.tabIndex=0:this.component.isFocusable()&&(e.tabIndex=-1),jn(this.component,e,!0),e.src=String(this.component.url||""),e},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.onUIFocusRequestAsync=function(t){this.handleFocusRequestEvent(t)},e.prototype.onUrlChange=function(){var t=this.getElement();t&&(t.src=String(this.component.url||""))},e.prototype.updateStyle=function(){this.scheduleStyleUpdate()},o([N("hidden","style","shrinkwrap","disabled","textStyle","decoration","dimensions","position")],e.prototype,"updateStyle",null),e}(Rr);De.addObserver(Vr);var zr=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n}return n(e,t),e.prototype.createElement=function(){var t=document.createElement("hr"),e="UIRender__Separator--line"+(this.component.vertical?" UIRender__Separator--line-vertical":"");if(jn(this.component,t,!0,e),this.component.margin){var n=Fn(this.component.margin);t.style.margin=this.component.vertical?"0 "+n:n+" 0"}return t},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.updateStyle=function(){this.scheduleStyleUpdate("UIRender__Separator--line"+(this.component.vertical?" UIRender__Separator--line-vertical":""))},o([N("hidden","style","vertical","dimensions","color","thickness","margin","position")],e.prototype,"updateStyle",null),e}(Rr);We.addObserver(zr);var Hr=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n}return n(e,t),e.prototype.createElement=function(){var t=document.createElement("spacer");return jn(this.component,t,!0),t},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.updateStyle=function(){this.scheduleStyleUpdate()},o([N("hidden","style","shrinkwrap","decoration","dimensions","position")],e.prototype,"updateStyle",null),e}(Rr);Ke.addObserver(Hr);var Wr=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n.DOM_CONTROL_EMIT=n.DOM_EMIT,n}return n(e,t),e.prototype.createElement=function(){var t=document.createElement(this.component.multiline?"textarea":"input");t.tabIndex=this.component.isKeyboardFocusable()?0:-1,this.component.multiline||(t.type=this.component.type),t.placeholder=String(this.component.placeholder||" ");var e=this.component.value;return t.value=null==e?"":String(e),this.component.name&&(t.name=this.component.name),this.component.disabled&&(t.disabled=!0),this.component.enterKeyHint&&(t.enterKeyHint=this.component.enterKeyHint),jn(this.component,t,!0),t},e.prototype.emitComponentEvent=function(e){var n=this.getElement();n&&(this.component.value=n.value),t.prototype.emitComponentEvent.call(this,e)},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.onUIFocusRequestAsync=function(t){this.handleFocusRequestEvent(t)},e.prototype.onMultilineChange=function(){this.isRendered()&&this.updateElement(this.createElement())},e.prototype.updateControl=function(){var t=this.getElement();if(t){var e=String(this.component.placeholder||" ");t.placeholder!==e&&(t.placeholder=e),this.component.multiline||t.type===this.component.type||(t.type=this.component.type),this.component.name&&(t.name=this.component.name),this.component.enterKeyHint&&(t.enterKeyHint=this.component.enterKeyHint);var n=this.component.value;n=null==n?"":String(n),t.value!=n&&(t.value=n)}},e.prototype.onDisabledChange=function(){var t=this.getElement();t&&(t.disabled=!!this.component.disabled)},e.prototype.updateStyle=function(){this.scheduleStyleUpdate()},o([N("name","value","type","placeholder","enterKeyHint")],e.prototype,"updateControl",null),o([N("hidden","style","shrinkwrap","textStyle","decoration","dimensions","position")],e.prototype,"updateStyle",null),e}(Rr);Ye.addObserver(Wr);var Kr=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n.DOM_CONTROL_EMIT=n.DOM_EMIT,n}return n(e,t),e.prototype.createElement=function(){var t=document.createElement("span"),e=document.createElement("input");e.tabIndex=this.component.isKeyboardFocusable()?0:-1,e.type="checkbox",e.checked=!!this.component.state,e.id="UIToggle::"+this.component.managedId,e.name=this.component.name||"UIToggle::"+this.component.managedId,this.component.disabled&&(e.disabled=!0);var n=document.createElement("label");return n.htmlFor="UIToggle::"+this.component.managedId,this._setLabelContent(n),t.appendChild(e),t.appendChild(n),jn(this.component,t,!0),t},e.prototype.emitComponentEvent=function(e){var n=this.getElement();if(n){var r=n.firstChild;this.component.state=!!r.checked}t.prototype.emitComponentEvent.call(this,e)},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.onUIFocusRequestAsync=function(t){this.handleFocusRequestEvent(t)},e.prototype.updateControl=function(){var t=this.getElement();if(t){var e=t.firstChild;this.component.name&&(e.name=this.component.name),e.checked&&!this.component.state?e.checked=!1:!e.checked&&this.component.state&&(e.checked=!0)}},e.prototype.onLabelChange=function(){var t=this.getElement();t&&this._setLabelContent(t.lastChild)},e.prototype.onDisabledChange=function(){var t=this.getElement();t&&(t.firstChild.disabled=!!this.component.disabled)},e.prototype._setLabelContent=function(t){t.innerHTML="";var e=document.createElement("control");this.component.highlightColor&&(e.style.background=Yt.replaceColor(this.component.highlightColor));var n=this.component.label;n=null==n?"":String(n),t.textContent=n?"  "+n:"",t.insertBefore(e,t.firstChild)},e.prototype.updateStyle=function(){this.scheduleStyleUpdate()},e.prototype.onHighlightColorChangeAsync=function(){var t=this.getElement();if(t){var e=t.firstChild.nextSibling,n=Yt.replaceColor(this.component.highlightColor||"transparent");e.style.background=n}},o([N("name","state")],e.prototype,"updateControl",null),o([N("hidden","style","shrinkwrap","disabled","textStyle","decoration","dimensions","position")],e.prototype,"updateStyle",null),e}(Rr);Je.addObserver(Kr),t.ActionEvent=Et,t.AppActivationContext=gn,t.AppActivity=mn,t.AppActivityList=bn,t.AppComponent=vn,t.AppException=mt,t.Application=wn,t.BrowserApplication=hr,t.BrowserTheme=wr,t.CHANGE=O,t.ComponentChildAddedEvent=Ot,t.ComponentEvent=St,t.CompositeParentChangeEvent=It,t.ConfirmationDialogBuilder=qt,t.DialogViewActivity=Sn,t.I18nService=ft,t.I18nString=vt,t.JSX=In,t.ManagedChangeEvent=E,t.ManagedEvent=x,t.ManagedList=gt,t.ManagedListChangeEvent=I,t.ManagedMap=X,t.ManagedObject=Y,t.ManagedObjectAddedEvent=R,t.ManagedObjectRemovedEvent=k,t.ManagedParentChangeEvent=S,t.ManagedRecord=Ut,t.ManagedReference=Q,t.ManagedService=rt,t.ModalViewActivity=xn,t.NavigationTarget=yn,t.PageViewActivity=Cn,t.StringFormatBinding=Ct,t.UIBeforeRenderEvent=Qt,t.UIBorderlessButton=Ae,t.UIBorderlessTextField=Xe,t.UIButton=Re,t.UICell=ce,t.UICenterRow=we,t.UICloseColumn=he,t.UICloseLabel=ze,t.UICloseRow=_e,t.UIColor=Gt,t.UIColumn=de,t.UIComponentEvent=Jt,t.UIConditional=Qe,t.UIContainer=oe,t.UIControl=Ie,t.UICoverCell=ue,t.UIExpandedLabel=He,t.UIFlowCell=le,t.UIFocusRequestEvent=ne,t.UIForm=me,t.UIFormContextChangeEvent=Ge,t.UIFormContextController=Ze,t.UIHeading1=Fe,t.UIHeading2=Le,t.UIHeading3=Ne,t.UIIconButton=Be,t.UIImage=De,t.UILabel=je,t.UILargeButton=Pe,t.UILinkButton=Te,t.UIListCellAdapter=en,t.UIListCellAdapterEvent=tn,t.UIListController=on,t.UIMenu=un,t.UIMenuBuilder=$t,t.UIMenuItemSelectedEvent=ln,t.UIModalController=an,t.UIOppositeRow=be,t.UIOutlineButton=Me,t.UIParagraph=Ve,t.UIPrimaryButton=ke,t.UIRenderEvent=Zt,t.UIRenderableController=ve,t.UIRow=ge,t.UIScrollContainer=Se,t.UIScrollEvent=xe,t.UIScrollTargetEvent=Ce,t.UISelectionController=sn,t.UISeparator=We,t.UISmallButton=Ue,t.UISpacer=Ke,t.UIStyle=Kt,t.UIStyleController=cn,t.UITextField=Ye,t.UITheme=Yt,t.UIToggle=Je,t.UIViewRenderer=dn,t.UnhandledErrorEmitter=it,t.UnhandledErrorEvent=ot,t.ViewActivity=_n,t.ViewComponent=En,t.activationContextBinding=fn,t.autoUpdateHandler=cr,t.bind=xt,t.bindf=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new(Ct.bind.apply(Ct,b([void 0,t],g(e),!1)))},t.component=At,t.delegateEvents=Mt,t.formContextBinding=qe,t.logUnhandledException=at,t.managed=Z,t.managedChild=tt,t.observe=F,t.onPropertyChange=N,t.onPropertyEvent=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n){var r,o,i=e[n];if("function"!=typeof i)throw TypeError();i["^o:prop"]||(i["^o:prop"]=[]);var a=i["^o:prop"],s=function(t){a.some((function(e){return e==="!"+t}))||a.push("!"+t)};try{for(var c=m(t),l=c.next();!l.done;l=c.next())s(l.value)}catch(t){r={error:t}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}}},t.rateLimit=function(t){return function(e,n){if("function"!=typeof e[n]||"string"!=typeof n||"Async"!==n.slice(-5))throw w(39);e[n]["^o:rate"]=t}},t.renderContextBinding=pe,t.service=nt,t.shadowObservable=L,t.strf=yt,t.viewportContextBinding=fe,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).typescene={});
